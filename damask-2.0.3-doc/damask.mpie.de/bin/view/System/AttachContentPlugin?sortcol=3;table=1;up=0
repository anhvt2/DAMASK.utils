<!DOCTYPE html><html lang="en">
<head>
<title> AttachContentPlugin &lt; System &lt; DAMASK</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link rel="icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="alternate" href="https://damask.mpie.de/bin/edit/System/AttachContentPlugin?t=1627669311" type="application/x-wiki" title="edit AttachContentPlugin" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" />
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/System/WebRss" />
<base href="https://damask.mpie.de/bin/view/System/AttachContentPlugin" /><!--[if IE]></base><![endif]-->
<link rel='stylesheet' href='/pub/System/PageOptimizerPlugin/cache/9d7aeb20a286fc6ee659eaad62a98a46.css' class='CLASSIFICATIONPLUGIN::CSS JQUERYPLUGIN::COMMENT JQUERYPLUGIN::TABLESORTER SMILIESPLUGIN head' media='all' />
<style class='head EXTERNALLINKPLUGIN_CSS' type="text/css" media="all">
.externalLink a:link,
.externalLink a:visited,
.externalLink a:hover {
	background-image:url(/pub/System/ExternalLinkPlugin/diagonal.gif);
	background-repeat:no-repeat;
	background-position:right;
	padding-right:18px;
}
</style>

<style class='head TABLEPLUGIN_default' type="text/css" media="all">
body .foswikiTable {border-width:1px}
body .foswikiTable .tableSortIcon img {padding-left:.3em; vertical-align:text-bottom}
body .foswikiTable td {border-style:solid none; vertical-align:top}
body .foswikiTable th {border-style:none solid; vertical-align:top; background-color:#d6d3cf; color:#000000}
body .foswikiTable th a:link {color:#000000}
body .foswikiTable th a:visited {color:#000000}
body .foswikiTable th a:hover {color:#000000; background-color:#d6d3cf}
body .foswikiTable th.foswikiSortedCol {background-color:#c4c1ba}
body .foswikiTable tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td.foswikiSortedCol {background-color:#f0f0ee}
</style>
<style class='head TABLEPLUGIN_specific' type="text/css" media="all">
body .foswikiTable#tableAttachContentPlugin2 {width:100%}
body .foswikiTable#tableAttachContentPlugin2 td.foswikiTableCol0 {width:7em}
body .foswikiTable#tableAttachContentPlugin2 th.foswikiTableCol0 {width:7em}
</style>

<style type="text/css" media="all">
		  /* Styles that are set using variables */
		  .patternWebIndicator,
		  .patternWebIndicator a {
					 background-color:none;
		  }
		  #patternTopBarContents { background-image:url(https://damask.mpie.de/pub/System/ProjectLogos/DAMASK.png); background-repeat:repeat-x;}

.patternBookView {
	border-color:#B9DAFF;
}
.patternPreviewPage #patternMain {
	/* uncomment to set the preview image */
	/*background-image:url("/pub/System/PreviewBackground/preview2bg.gif");*/
}
</style>
<link rel='stylesheet' href='/pub/System/PatternSkin/print.css' media='print' type='text/css' />

<script class='script JQUERYPLUGIN' src='/pub/System/JQueryPlugin/jquery-2.2.4.js'></script>
<script class='script JQUERYPLUGIN::BROWSER' src='/pub/System/JQueryPlugin/plugins/browser/jquery.browser.js?version=0.1.0'></script>
<script class='script JQUERYPLUGIN::MIGRATE' src='/pub/System/JQueryPlugin/plugins/migrate/jquery.migrate.js?version=3.2.1'></script>
<script class='script JQUERYPLUGIN::LIVEQUERY' src='/pub/System/JQueryPlugin/plugins/livequery/jquery.livequery.js?version=1.3.6'></script>
<script class='script JQUERYPLUGIN::FOSWIKI' src='/pub/System/JQueryPlugin/plugins/foswiki/jquery.foswiki.js?version=2.14'></script>
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "TOPIC" : "AttachContentPlugin",
   "SCRIPTURL" : "https://damask.mpie.de/bin",
   "USERNAME" : "guest",
   "SERVERTIME" : "30 Jul 2021 - 20:21",
   "WEB" : "System",
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "PUBURLPATH" : "/pub",
   "WIKIUSERNAME" : "Main.WikiGuest",
   "WIKINAME" : "WikiGuest",
   "SCRIPTSUFFIX" : "",
   "USERSWEB" : "Main",
   "PUBURL" : "https://damask.mpie.de/pub",
   "SKIN" : "damask,famfamfam,pattern",
   "COOKIEREALM" : "",
   "URLHOST" : "https://damask.mpie.de",
   "SYSTEMWEB" : "System",
   "SCRIPTURLPATH" : "/bin",
   "SCRIPTURLPATHS" : {
      "view" : "/bin/view"
   }
}
</script>
<script class='script JQTABLEPLUGIN::SORT' type='text/javascript'>
jQuery.extend(foswiki.preferences, {
  'JQTablePlugin.sort' : 'all'
});
</script>
<script class='script JQUERYPLUGIN::UPLOADER::META foswikiPreferences' type='text/json'>{"TopicInteractionPlugin":{"officeSuite":"","attachFileSizeLimit":"262144"}}</script>
<script class='script JavascriptFiles/foswikiString' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiString.js"></script>
<script class='script JavascriptFiles/foswikiPref' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiPref.js"></script>
<script class='script JavascriptFiles/foswikiForm' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiForm.js"></script>
<script class='script PatternSkin/pattern' type="text/javascript" src="/pub/System/PatternSkin/pattern.js"></script>
<script class='script JQUERYPLUGIN::JEDITABLE' src='/pub/System/JEditableContrib/jquery.jeditable.js?version=06 Feb 2017'></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/jquery.tablesorter.js?version=2.0.3'></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/tables.js?version=2.0.3'></script>
<script class='script JavascriptFiles/strikeone' type="text/javascript" src="/pub/System/JavascriptFiles/strikeone.js"></script>
<script class='script JQUERYPLUGIN::COMMENT' src='/pub/System/CommentPlugin/comment.js?version=3.0'></script>

<link rel="stylesheet" href="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.css">
<script src="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.js"></script>
</head> 
<body class="foswikiNoJs patternViewPage foswikiHasNoChangePermission foswikiGuest">
<span id="PageTop"></span><div class="foswikiPage"><div id="patternScreen">
<div id="patternPageShadow"><div id="patternTopBar">
  <div id="patternTopBarContentsWrapper">
	 <div id="patternTopBarContents"><table border="0" cellpadding="0" cellspacing="0" style="width:100%" summary="">
<tr><td valign="middle"><span id="foswikiLogo" class="foswikiImage"><a href="https://damask.mpie.de/bin/view/Home/WebHome"><img src="" border="0" alt="Powered by Foswiki, The Free and Open Source Wiki" style="border:none;" /></a></span></td>
<td align="right" valign="top" class="patternMetaMenu">
 <ul>
<li> <form name="jumpForm" action="/bin/view/System/AttachContentPlugin"><input id="jumpFormField" title="Jump" type="text" class="foswikiInputField foswikiDefaultText" name="topic" value="" size="18" /><noscript>&nbsp;<input type="submit" class="foswikiButton" size="5" name="submit" value="Jump" />&nbsp;</noscript>   </form>
</li> <li> <form name="quickSearchForm" action="/bin/view/System/WebSearch"><input type="text" class="foswikiInputField foswikiDefaultText" title="Search" id="quickSearchBox" name="search" value="" size="18" /><input type="hidden" name="scope" value="all" /><input type="hidden" name="web" value="System" /><noscript>&nbsp;<input type="submit" size="5" class="foswikiButton" name="submit" value="Search" />&nbsp;</noscript>   </form>
</li></ul> 
<p></p>

</td></tr></table></div>
  </div>
</div><div id="patternTopBarButtons"><ul>
<li><a href="https://damask.mpie.de/bin/view/Home/WebHome" class="inactive">Home</a></li>
<li><a href="https://damask.mpie.de/bin/view/About/WebHome" class="inactive">About</a></li>
<li><a href="https://damask.mpie.de/bin/view/Download/WebHome" class="inactive">Download</a></li>
<li><a href="https://damask.mpie.de/bin/view/Installation/WebHome" class="inactive">Installation</a></li>
<li><a href="https://damask.mpie.de/bin/view/Usage/WebHome" class="inactive">Usage</a></li>
<li><a href="https://damask.mpie.de/bin/view/Documentation/WebHome" class="inactive">Documentation</a></li>
<li><a href="https://damask.mpie.de/bin/view/Development/WebHome" class="inactive">Development</a></li>
<li><a href="https://damask.mpie.de/bin/view/References/WebHome" class="inactive">References</a></li>
<li><a href="https://damask.mpie.de/bin/view/Examples/WebHome" class="inactive">Examples</a></li>
</ul><div class="foswikiClear"></div></div>
<div id="patternPage">
<div id="patternWrapper"><div id="patternOuter" class="clear">
<div id="patternFloatWrap">
<div id="patternMain"><div id="patternClearHeaderCenter"></div>
<div id="patternMainContents"><div class="patternTop clear"><span class="patternHomePath foswikiLeft"><span class="patternHomePathTitle">You are here: </span><a href="/bin/view/">DAMASK</a><span class='foswikiSeparator'>&gt;</span><a href="/bin/view/System/WebHome">System</a><span class='foswikiSeparator'>&gt;</span><a href="https://damask.mpie.de/bin/view/System/AttachContentPlugin" title='Topic revision: 1 (13 Jun 2016 - 10:03:08)'>AttachContentPlugin</a></span><span class="patternToolBar foswikiRight"><span class='foswikiToolBar foswikiRight foswikiUnauthenticated'>
<p></p>

<span>
<a href="https://damask.mpie.de/bin/edit/System/AttachContentPlugin?t=1627669311;nowysiwyg=1" title="Edit Wiki text (w)">
<img alt="Edit Wiki text (w)" src="https://damask.mpie.de/pub/System/FamFamFamSilkIcons/pencil.png" width="16" height="16" />
</a></span><span>
	<a class='foswikiRequiresChangePermission' href='https://damask.mpie.de/bin/attach/System/AttachContentPlugin' title='Attach an image or document to this topic; manage existing attachments (a)'>
		<img alt='Attach an image or document to this topic; manage existing attachments (a)' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/attach.png' width='16' height='16' />
	</a></span><span>
    </span><span>
	<a href='https://damask.mpie.de/bin/diff/System/AttachContentPlugin?type=history' title='View sequential topic history'>
		<img alt='View sequential topic history' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/page_white_stack.png' width='16' height='16' />
	</a></span><span>
	<a href='https://damask.mpie.de/bin/view/System/AttachContentPlugin?raw=on&amp;rev=1' title='View without formatting (v)'>
		<img alt='View without formatting (v)' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/text_align_left.png' width='16' height='16' />
	</a></span><span>
	<a class='foswikiRequiresChangePermission' href='https://damask.mpie.de/bin/view/System/WebCreateNewTopic?topicparent=AttachContentPlugin' title='Create new topic'>
		<img alt='Create new topic' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/page_white_add.png' width='16' height='16' />
	</a></span><span>
	<a href='https://damask.mpie.de/bin/view/System/AttachContentPlugin?cover=print;sortcol=3;table=1;up=0' title='Printable version of this topic (p)'>
		<img alt='Printable version of this topic (p)' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/printer.png' width='16' height='16' />
	</a></span><span>
        <a href='https://damask.mpie.de/bin/oops/System/AttachContentPlugin?template=more&amp;maxrev=1&amp;currrev=1' title='More: delete or rename this topic; set parent topic; view and compare revisions (m)'>
                <img alt='More: delete or rename this topic; set parent topic; view and compare revisions (m)' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/wrench.png' width='16' height='16' />
	</a></span> 
		</span></span></div><div class="foswikiContentHeader"></div><div class="patternContent"><div class="foswikiTopic"><h1 id="Attach_Content_Plugin">  Attach Content Plugin </h1>
Saves dynamic topic text to an attachment
<p></p>

<div class="foswikiToc" id="foswikiTOC"><span class="foswikiTocTitle">On this page:</span> <ul>
<li> <a href="?sortcol=3;table=1;up=0#Overview"> Overview </a>
</li> <li> <a href="?sortcol=3;table=1;up=0#Syntax_Rules"> Syntax Rules </a> <ul>
<li> <a href="?sortcol=3;table=1;up=0#Parameters"> Parameters </a>
</li></ul> 
</li> <li> <a href="?sortcol=3;table=1;up=0#Examples"> Examples </a> <ul>
<li> <a href="?sortcol=3;table=1;up=0#Adding_a_Save_button_to_the_topic."> Adding a Save button to the topic. </a>
</li> <li> <a href="?sortcol=3;table=1;up=0#Creating_a_color_scheme"> Creating a color scheme </a>
</li> <li> <a href="?sortcol=3;table=1;up=0#User_data_XML"> User data XML </a>
</li></ul> 
</li> <li> <a href="?sortcol=3;table=1;up=0#Installation_Instructions"> Installation Instructions </a>
</li> <li> <a href="?sortcol=3;table=1;up=0#Settings"> Settings </a>
</li> <li> <a href="?sortcol=3;table=1;up=0#Dependencies"> Dependencies </a>
</li> <li> <a href="?sortcol=3;table=1;up=0#Change_History"> Change History </a>
</li></ul> 
</div>
<p></p>

<h2 id="Overview">  Overview </h2>
<p></p>

This plugin puts any text between a <code>%STARTATTACH{"filename"}%</code> and <code>%ENDATTACH%</code> into an attachment with the given filename.
<p class='p'>Pass filename, topic, web or comment as parameters.</p>

<p class='p'>The current version only refreshes the attachment when the topic is saved. Obviously this means that the attachment can get out of synch if, for example, it explicitly or implicitly refers to other topics.</p>

This plugin is written specifically to be able to put css into topic(s) and still be able to have efficient stylesheets: i.e., without the overhead of Foswiki processing. The feature can be used for many other things where you want Foswiki to generate a plain text file a smart way. <br /> For example: write a <code>SEARCH</code> in a topic and save the search results to an XML file. The XML data can be used for efficient look-up.
<p></p>

<h2 id="Syntax_Rules">  Syntax Rules </h2>
<p class='p'>Write:</p>

<pre>
%STARTATTACH{"filename"}%
content-to-be-saved
%ENDATTACH%
</pre>
<p class='p'>You can pass a number of parameters:</p>

<h3 id="Parameters">  Parameters </h3>
<table class="foswikiTable" rules="none">
	<thead>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<th class="foswikiTableCol0 foswikiFirstCol"> <a href="/bin/view/System/AttachContentPlugin?sortcol=0;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column">Parameter</a> </th>
			<th class="foswikiTableCol1"> <a href="/bin/view/System/AttachContentPlugin?sortcol=1;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column">Description</a> </th>
			<th class="foswikiTableCol2"> <a href="/bin/view/System/AttachContentPlugin?sortcol=2;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column">Default</a> </th>
			<th class="foswikiTableCol3 foswikiSortedAscendingCol foswikiSortedCol foswikiLastCol"> <a href="/bin/view/System/AttachContentPlugin?sortcol=3;table=1;up=1#sorted_table" rel="nofollow" title="Sort by this column">Example</a><a name="sorted_table"></a><span class="tableSortIcon tableSortUp"><img alt="Sorted ascending" border="0" height="13" src="/pub/System/DocumentGraphics/tablesortup.gif" title="Sorted ascending" width="11" /></span> </th>
		</tr>
	</thead>
	<tbody>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol" rowspan="1"> <code>comment</code> </td>
			<td class="foswikiTableCol1" rowspan="1"> Attachment comment text. </td>
			<td class="foswikiTableCol2" rowspan="1"> the default <code>{AttachmentComment}</code> text in <a href="https://damask.mpie.de/bin/configure/#AttachContentPlugin$Extensions">configure</a> </td>
			<td class="foswikiTableCol3 foswikiSortedAscendingCol foswikiSortedCol foswikiLastCol" rowspan="1"> <code>comment="User data as of %DATE%"</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol" rowspan="1"> <code>hide</code> </td>
			<td class="foswikiTableCol1" rowspan="1"> Use <code>hide="on"</code> to hide the attachment in normal topic view. </td>
			<td class="foswikiTableCol2" rowspan="1"> <code>off</code> </td>
			<td class="foswikiTableCol3 foswikiSortedAscendingCol foswikiSortedCol foswikiLastCol" rowspan="1"> <code>hide="on"</code> </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol" rowspan="1"> <code>hidecontent</code> </td>
			<td class="foswikiTableCol1" rowspan="1"> Hide content from view. </td>
			<td class="foswikiTableCol2" rowspan="1"> - (the "content-to-be-saved" is visible) </td>
			<td class="foswikiTableCol3 foswikiSortedAscendingCol foswikiSortedCol foswikiLastCol" rowspan="1"> <code>hidecontent="on"</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol" rowspan="1"> <code>keeppars</code> </td>
			<td class="foswikiTableCol1" rowspan="1"> Keep paragraph <code>&lt;p /&gt;</code> tags, <code>&lt;nop&gt;</code> tags, and square bracket type links </td>
			<td class="foswikiTableCol2" rowspan="1"> the default <code>{KeepPars}</code> text in <a href="https://damask.mpie.de/bin/configure/#AttachContentPlugin$Extensions">configure</a> </td>
			<td class="foswikiTableCol3 foswikiSortedAscendingCol foswikiSortedCol foswikiLastCol" rowspan="1"> <code>keeppars="on"</code> </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol" rowspan="1"> <code>topic</code> </td>
			<td class="foswikiTableCol1" rowspan="1"> Topic to save the attachment to. </td>
			<td class="foswikiTableCol2" rowspan="1"> - (the current topic is used) </td>
			<td class="foswikiTableCol3 foswikiSortedAscendingCol foswikiSortedCol foswikiLastCol" rowspan="1"> <code>topic="WebHome"</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast" rowspan="1"> <code>web</code> </td>
			<td class="foswikiTableCol1 foswikiLast" rowspan="1"> Web where the save topic is located. </td>
			<td class="foswikiTableCol2 foswikiLast" rowspan="1"> - (the current Web is used) </td>
			<td class="foswikiTableCol3 foswikiSortedAscendingCol foswikiSortedCol foswikiLastCol foswikiLast" rowspan="1"> <code>web="Main"</code> </td>
		</tr>
	</tbody></table>
<p></p>

<h2 id="Examples">  Examples </h2>
<p></p>

<h3 id="Adding_a_Save_button_to_the_topic.">  Adding a Save button to the topic. </h3>
<p class='p'>These examples add a "Save" button to force a save of the topic and update the attachment.  Note that with versions of Foswiki since 1.0.4, it is not possible to initiate a save from a simple HTML link - which causes a "GET".  Save can only be initiated from a POST operation done using a HTML form.  The following sample form is used to create the button:</p>

<pre>
&#60;form action&#61;&#34;&#37;SCRIPTURL{save}&#37;/&#37;WEB&#37;/&#37;TOPIC&#37;&#34; method&#61;&#34;post&#34;&#62;
    &#60;input type&#61;&#34;hidden&#34; name&#61;&#34;action&#34; value&#61;&#34;action&#95;save&#61;1&#34; /&#62;
    &#60;input type&#61;&#34;submit&#34; class&#61;&#34;foswikiButton&#34; value&#61;&#34;Save the topic&#34; /&#62;
&#60;/form&#62;
</pre>
<p></p>

<h3 id="Creating_a_color_scheme">  Creating a color scheme </h3>
<p></p>

See: <a class="foswikiNewLink" href="/bin/edit/System/PatternSkinColorSettings?topicparent=System.AttachContentPlugin" rel="nofollow" title="Create this topic">PatternSkinColorSettings</a>. This topic uses AttachContentPlugin to write a CSS file for colors. Color values are set dynamically in the topic. On topic save the CSS file is attached to the topic and can be referred to using variable <code>USERCOLORSURL</code>.
<p></p>

<span id="UserDataXml"></span>
<h3 id="User_data_XML">  User data XML </h3>
<p></p>

<form action="https://damask.mpie.de/bin/save/System/AttachContentPlugin" method="post" onsubmit="StrikeOne.submit(this)"><input type='hidden' name='validation_key' value='?38d60a72971f82eeffd032d3690a667c' /><input type="hidden" name="action" value="action_save=1" /><input type="submit" class="foswikiButton" value="Save the topic" /></form> This will generate an <a href="/pub/System/AttachContentPlugin/userdata.xml">attachment</a> to this topic. Content will be a xml file of users registered to this installation.
<p></p>

<pre>
&#60;?xml version&#61;&#34;1.0&#34; encoding&#61;&#34;ISO-8859-1&#34;?&#62;
&#60;users&#62;
&#37;SEARCH{ &#34;&#91;F&#93;irstName.&#42;value&#61;.&#42;()&#34; web&#61;&#34;&#37;MAINWEB&#37;&#34; type&#61;&#34;regex&#34; nonoise&#61;&#34;on&#34; excludetopic&#61;&#34;UserForm,ProjectContributor,WikiGuest,UnknownUser&#34; format&#61;&#34;&#60;user&#62;&#60;firstname&#62;&#60;!&#91;CDATA&#91;&#36;formfield(FirstName)&#93;&#93;&#62;&#60;/firstname&#62;&#60;lastname&#62;&#60;!&#91;CDATA&#91;&#36;formfield(LastName)&#93;&#93;&#62;&#60;/lastname&#62;&#60;url&#62;&#60;!&#91;CDATA&#91;&#37;SCRIPTURL{view}&#37;/&#37;WEB&#37;/&#36;topic&#93;&#93;&#62;&#60;/url&#62;&#60;/user&#62;&#34; }&#37;
&#60;/users&#62;
</pre>
<p></p>

<img src="/pub/System/DocumentGraphics/warning.png" alt="ALERT!" title="ALERT!" width="16" height="16" /> Note that the STARTATTACH and ENDATTACH macros are not shown, so the actual content of the above "live" Attach Content block (spaced out for easier readability) is:
<p></p>

<pre>
%STARTATTACH{"userdata.xml" comment="User data as of %DATE%"}%
&lt;?xml version="1.0" encoding="ISO-8859-1"?>
&lt;users>
%SEARCH{ "[F]irstName.*value=.*()" web="%MAINWEB%" type="regex" nonoise="on" 
   excludetopic="UserForm,ProjectContributor,WikiGuest,UnknownUser" 
   format="&lt;user>&lt;firstname>&lt;![CDATA[$formfield(FirstName)]]>&lt/firstname>
               &lt;lastname>&lt;![CDATA[$formfield(LastName)]]>&lt;/lastname>
               &lt;url>&lt;![CDATA[%SCRIPTURL{view}%/%WEB%/$topic]]>&lt;/url>
           &lt;/user>"
 }%
&lt;/users>
%ENDATTACH%
</pre>
<p></p>

<h2 id="Installation_Instructions">  Installation Instructions </h2>
<p class='p'>You do not need to install anything in the browser to use this extension. The following instructions are for the administrator who installs the extension on the server.</p>

<p class='p'>Open configure, and open the "Extensions" section. Use "Find More Extensions" to get a list of available extensions. Select "Install".</p>

If you have any problems, or if the extension isn't available in <code>configure</code>, then you can still install manually from the command-line. See <a href="http://foswiki.org/Support/ManuallyInstallingExtensions">http://foswiki.org/Support/ManuallyInstallingExtensions</a> for more help.
<p class='p'></p>

<span id="PluginSettings"></span>
<h2 id="Settings">  Settings </h2>
<p></p>

After installation, configure this plugin by changing settings in <a href="https://damask.mpie.de/bin/configure/#AttachContentPlugin$Extensions">configure</a>.
<p></p>

<h2 id="Dependencies">  Dependencies </h2>
None
<p></p>

<h2 id="Change_History">  Change History </h2>
<p></p>

<table class="foswikiTable" id="tableAttachContentPlugin2" rules="none" width="100%">
	<tbody>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 13 Jun 2016 (2.41) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Foswikitasl:Item14095 - fixed saving attachments with unicode chars in it </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 03 May 2016 (2.40) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <a class="interwikiLink" href="https://foswiki.org/Tasks/Item14062" title="'Item14062' on the 'Foswiki' issue tracking site">Foswikitask:Item14062</a> - only attach content when it actually changed;                        <a class="interwikiLink" href="https://foswiki.org/Tasks/Item11782" title="'Item11782' on the 'Foswiki' issue tracking site">Foswikitask:Item11782</a> - make sure the file is proper utf8 on unicode Foswiki </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 25 Sep 2015 (2.34) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <a class="interwikiLink" href="https://foswiki.org/Tasks/Item13747" title="'Item13747' on the 'Foswiki' issue tracking site">Foswikitask:Item13747</a> - fixed unescaped left braces;                         use <a class="interwikiLink" href="https://metacpan.org/module/File::Temp" title="CPAN perl repository">CPAN:File::Temp</a> for temporary files; check access rights before saving auto-created attachment to prevent an unnecessary error condition;                         check access rights before saving auto-created attachment to prevent an unnecessary error condition;                         remove SVN tags to make plugin releasable again;                         use floats for version tags;                         normalize web,topic params to STARTATTACH;                         remove use of deprecated saveTopicText api </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 21 Aug 2010 (2.33) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Created stub handlers <code>_startAttach</code> and <code>_endAttach</code>. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 25 May 2010 (2.32) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <a class="interwikiLink" href="https://foswiki.org/Tasks/Item8579" title="'Item8579' on the 'Foswiki' issue tracking site">Foswikitask:Item8579</a> - Fix example to resolve save errors </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 31 Aug 2009 (2.3) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Arthur Clemens: Added param <code>hidecontent</code>. Moved plugin settings to configure. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 23 Nov 2008 (2.21) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Foswiki compatible. </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 16 Apr 2007 (2.20) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Kenneth Lavrsen: Add added <code>keeppars</code> parameter. Settings change to being plugin settings only. Removal of plugin tags fixed so text between is still visible. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 15 Apr 2007 (2.10) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Arthur Clemens: added parameters <code>web</code>, <code>topic</code>, <code>comment</code> and <code>hide</code>. Plugin tags are removed from view. Added configurable default comment. </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol" style="text-align:right"> 19 Oct 2006 (2.0) </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Foswiki:Main.KennethLavrsen<br />Fixed major security issue. Original version allowed /../ in the filename so files could be stored everywhere<br />Plugin now cleans up the its work area and no longer leaves temporary files<br />Temporary filenames made pseudo random to avoid race condition<br />Plugin now also removed nops and TML square bracket links<br />Attachment is no longer saved when uploading other files and changing attributes. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast" style="text-align:right"> 09 Feb 2006 (1.0) </td>
			<td class="foswikiTableCol1 foswikiLastCol foswikiLast"> Initial version </td>
		</tr>
	</tbody></table> </div>
<div class="foswikiContentFooter"></div><div class="foswikiFormSteps"><div class="foswikiForm foswikiFormStep"><h3> <a href="/bin/view/System/PackageForm">PackageForm</a> <span class='foswikiSmall'><a href='https://damask.mpie.de/bin/edit/System/AttachContentPlugin?t=1627669311;action=form'>edit</a></span></h3><table class='foswikiFormTable' border='1' summary='Form data'><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> Author </td><td> <a href="/bin/view/System/ProjectContributor">ProjectContributor</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> Version </td><td> 2.41 </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> Release </td><td> 13 Jun 2016 </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> Description </td><td> Saves dynamic topic text to an attachment </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> Repository </td><td> <a href="https://github.com/foswiki/AttachContentPlugin">https://github.com/foswiki/AttachContentPlugin</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> Copyright </td><td> &copy; <a class="interwikiLink" href="http://twiki.org/cgi-bin/view/Main.MeredithLesly" title="'Main.MeredithLesly' on TWiki.org">TWiki:Main.MeredithLesly</a>, <a class="interwikiLink" href="https://foswiki.org/Main.KennethLavrsen" title="'Main.KennethLavrsen' on foswiki.org">Foswiki:Main.KennethLavrsen</a>, <a class="interwikiLink" href="https://foswiki.org/Main.ArthurClemens" title="'Main.ArthurClemens' on foswiki.org">Foswiki:Main.ArthurClemens</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> License </td><td> GPL (<span class='externalLink'><a href="http://www.gnu.org/copyleft/gpl.html">GNU General Public License</a></span>) </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> Home </td><td> <a class="interwikiLink" href="https://foswiki.org/Extensions/AttachContentPlugin" title="'Extensions/AttachContentPlugin' on foswiki.org">Foswiki:Extensions/AttachContentPlugin</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> Support </td><td> <a class="interwikiLink" href="https://foswiki.org/Support/AttachContentPlugin" title="'Support/AttachContentPlugin' on foswiki.org">Foswiki:Support/AttachContentPlugin</a> </td></tr></table></div><div class="patternTopicActions foswikiFormStep"><span class="patternActionButtons"><a class='foswikiRequiresChangePermission' href='https://damask.mpie.de/bin/edit/System/AttachContentPlugin?t=1627669311' rel='nofollow' title='Edit this topic text' accesskey='e'><span class='foswikiAccessKey'>E</span>dit </a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><a class='foswikiRequiresChangePermission' href='/bin/attach/System/AttachContentPlugin' rel='nofollow' title='Attach an image or document to this topic' accesskey='a'><span class='foswikiAccessKey'>A</span>ttach</a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/view/System/AttachContentPlugin?cover=print;sortcol=3;table=1;up=0' rel='nofollow' title='Printable version of this topic' accesskey='p'><span class='foswikiAccessKey'>P</span>rint version</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a class='foswikiRequiresChangePermission' href='/bin/oops/System/AttachContentPlugin?template=oopshistory' rel='nofollow' title='View complete topic history' accesskey='h'><span class='foswikiAccessKey'>H</span>istory</a>: r1</span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/view/System/AttachContentPlugin?template=backlinksweb' rel='nofollow' title='Search the System Web for topics that link to here' accesskey='b'><span class='foswikiAccessKey'>B</span>acklinks</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/view/System/AttachContentPlugin?raw=on' rel='nofollow' title='View without formatting' accesskey='v'><span class='foswikiAccessKey'>V</span>iew wiki text</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><a class='foswikiRequiresChangePermission' href='https://damask.mpie.de/bin/edit/System/AttachContentPlugin?t=1627669311;nowysiwyg=1' rel='nofollow' title='Edit Wiki text' accesskey='w'>Edit <span class='foswikiAccessKey'>w</span>iki text</a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/view/System/AttachContentPlugin?template=more&amp;maxrev=1&amp;currrev=1' rel='nofollow' title='Delete or rename this topic; set parent topic; view and compare revisions' accesskey='m'><span class='foswikiAccessKey'>M</span>ore topic actions</a></span></span></div></div></div><div class="patternInfo"><span class="patternRevInfo">Topic revision: r1 - 13 Jun 2016, <a href="/bin/view/Main/UnknownUser">UnknownUser</a></span></div>
</div>
</div><div id="patternSideBar"><div id="patternClearHeaderLeft"></div>
<div id="patternSideBarContents">
<div class="patternLeftBarPersonal">
<ul id="patternLeftBarUserActions">
<li class='patternLogIn'><img src='/pub/System/FamFamFamSilkIcons/key.png' class='foswikiIcon jqIcon key'  alt='key' /><a href="/bin/login/System/AttachContentPlugin?foswiki_origin=GET%2cview%2c/bin/view/System/AttachContentPlugin%3fsortcol%3d3%3btable%3d1%3bup%3d0">Log In</a></li></ul>
</div>
<p class='p'></p>
 <ul>
<li> <strong>Toolbox</strong>
</li> <li> <a href="/bin/view/Main/WikiUsers"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/person.png' width='16' height='16' alt='person' /></span> Users</a>
</li> <li> <a href="/bin/view/Main/WikiGroups"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/group.png' width='16' height='16' alt='group' /></span> Groups</a>
</li> <li> <a href="/bin/view/System/WebTopicList"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/index.png' width='16' height='16' alt='index' /></span> Index</a>
</li> <li> <a href="/bin/view/System/WebSearch"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/searchtopic.png' width='16' height='16' alt='searchtopic' /></span> Search</a>
</li> <li> <a href="/bin/view/System/WebChanges"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/changes.png' width='16' height='16' alt='changes' /></span> Changes</a>
</li> <li> <a href="/bin/view/System/WebNotify"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/notify.png' width='16' height='16' alt='notify' /></span> Notifications</a>
</li> <li> <a href="/bin/view/System/WebRss"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/feed.png' width='16' height='16' alt='feed' /></span> RSS Feed</a> 
</li> <li> <a href="/bin/view/System/WebPreferences"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/wrench.png' width='16' height='16' alt='wrench' /></span> Preferences</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>User Reference</b>
</li> <li> <a href="/bin/view/System/BeginnersStartHere">BeginnersStartHere</a>
</li> <li> <a href="/bin/view/System/EditingShorthand">EditingShorthand</a>
</li> <li> <a href="/bin/view/System/Macros">Macros</a>
</li> <li> <a href="/bin/view/System/MacrosQuickReference">MacrosQuickReference</a>
</li> <li> <a href="/bin/view/System/FormattedSearch">FormattedSearch</a>
</li> <li> <a href="/bin/view/System/QuerySearch">QuerySearch</a>
</li> <li> <a href="/bin/view/System/DocumentGraphics">DocumentGraphics</a>
</li> <li> <a href="/bin/view/System/SkinBrowser">SkinBrowser</a>
</li> <li> <a href="/bin/view/System/InstalledPlugins">InstalledPlugins</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>Admin Maintenance</b>
</li> <li> <a href="/bin/view/System/ReferenceManual">Reference Manual</a>
</li> <li> <a href="/bin/view/System/AdminToolsCategory">AdminToolsCategory</a>
</li> <li> <a href="/bin/view/System/InterWikis">InterWikis</a>
</li> <li> <a href="/bin/view/System/ManagingWebs">ManagingWebs</a>
</li> <li> <a href="/bin/view/System/SiteTools">SiteTools</a>
</li> <li> <a href="/bin/view/System/DefaultPreferences">DefaultPreferences</a>
</li> <li> <a href="/bin/view/System/WebPreferences">WebPreferences</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>Categories</b>
</li> <li> <a href="/bin/view/System/AdminDocumentationCategory">AdminDocumentationCategory</a>
</li> <li> <a href="/bin/view/System/AdminToolsCategory">AdminToolsCategory</a>
</li> <li> <a href="/bin/view/System/DeveloperDocumentationCategory">DeveloperDocumentationCategory</a>
</li> <li> <a href="/bin/view/System/UserDocumentationCategory">UserDocumentationCategory</a>
</li> <li> <a href="/bin/view/System/UserToolsCategory">UserToolsCategory</a>
</li></ul> 
<p class='p'></p>

<p class='p'></p>
 <ul>
<li> <strong>Webs</strong>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/About/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;About</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Applications/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#EDBC18" />&nbsp;Applications</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Applications/ClassificationApp/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#EDBC18" />&nbsp;<span class='foswikiWebIndent'></span>ClassificationApp</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Development/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Development</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Documentation/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Documentation</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Download/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#dedede" />&nbsp;Download</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Examples/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Examples</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Home/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Home</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Installation/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#cdcdcd" />&nbsp;Installation</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Main/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#FFEFA6" />&nbsp;Main</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/References/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;References</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Sandbox/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#FFD8AA" />&nbsp;Sandbox</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/System/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#B9DAFF" />&nbsp;System</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Usage/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Usage</a></span>
</li></ul> 
<p></p>

</div></div>
</div>
</div></div><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="patternWebBottomBar"><span class="foswikiRight"> <a href="http://foswiki.org/"><img src="/pub/System/ProjectLogos/foswiki-badge.png" height="42" alt="This site is powered by Foswiki" title="This site is powered by Foswiki" /></a></span>Copyright &copy; by the contributing authors. All material on this site is the property of the contributing authors. <br /> Ideas, requests, problems regarding DAMASK? <a href='mailto:damask@mpie.de?subject=DAMASK%20Feedback%20on%20System.AttachContentPlugin'>Send feedback</a> </div></div></div>
</div>
</div>
</div>
</div></body></html>