<!DOCTYPE html><html lang="en">
<head>
<title> ManagingUsers &lt; System &lt; DAMASK</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link rel="icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="alternate" href="https://damask.mpie.de/bin/edit/System/ManagingUsers?t=1627663976" type="application/x-wiki" title="edit ManagingUsers" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />

<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/System/WebRss" />
<base href="https://damask.mpie.de/bin/view/System/ManagingUsers" /><!--[if IE]></base><![endif]-->
<link rel='stylesheet' href='/pub/System/PageOptimizerPlugin/cache/fe5de1305712f15c9494a85344e6d5bb.css' class='CLASSIFICATIONPLUGIN::CSS JQUERYPLUGIN::COMMENT JQUERYPLUGIN::TABLESORTER SMILIESPLUGIN head' media='all' />

<style class='head EXTERNALLINKPLUGIN_CSS' type="text/css" media="all">
.externalLink a:link,
.externalLink a:visited,
.externalLink a:hover {
	background-image:url(/pub/System/ExternalLinkPlugin/diagonal.gif);
	background-repeat:no-repeat;
	background-position:right;
	padding-right:18px;
}
</style>
<style class='head TABLEPLUGIN_default' type="text/css" media="all">
body .foswikiTable {border-width:1px}
body .foswikiTable .tableSortIcon img {padding-left:.3em; vertical-align:text-bottom}
body .foswikiTable td {border-style:solid none; vertical-align:top}
body .foswikiTable th {border-style:none solid; vertical-align:top; background-color:#d6d3cf; color:#000000}
body .foswikiTable th a:link {color:#000000}
body .foswikiTable th a:visited {color:#000000}
body .foswikiTable th a:hover {color:#000000; background-color:#d6d3cf}
body .foswikiTable th.foswikiSortedCol {background-color:#c4c1ba}
body .foswikiTable tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td.foswikiSortedCol {background-color:#f0f0ee}
</style>

<style type="text/css" media="all">
		  /* Styles that are set using variables */
		  .patternWebIndicator,
		  .patternWebIndicator a {
					 background-color:none;
		  }
		  #patternTopBarContents { background-image:url(https://damask.mpie.de/pub/System/ProjectLogos/DAMASK.png); background-repeat:repeat-x;}

.patternBookView {
	border-color:#B9DAFF;
}
.patternPreviewPage #patternMain {
	/* uncomment to set the preview image */
	/*background-image:url("/pub/System/PreviewBackground/preview2bg.gif");*/
}
</style>
<link rel='stylesheet' href='/pub/System/PatternSkin/print.css' media='print' type='text/css' />

<script class='script JQUERYPLUGIN' src='/pub/System/JQueryPlugin/jquery-2.2.4.js'></script>
<script class='script JQUERYPLUGIN::BROWSER' src='/pub/System/JQueryPlugin/plugins/browser/jquery.browser.js?version=0.1.0'></script>
<script class='script JQUERYPLUGIN::MIGRATE' src='/pub/System/JQueryPlugin/plugins/migrate/jquery.migrate.js?version=3.2.1'></script>
<script class='script JQUERYPLUGIN::LIVEQUERY' src='/pub/System/JQueryPlugin/plugins/livequery/jquery.livequery.js?version=1.3.6'></script>
<script class='script JQUERYPLUGIN::FOSWIKI' src='/pub/System/JQueryPlugin/plugins/foswiki/jquery.foswiki.js?version=2.14'></script>
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "SERVERTIME" : "30 Jul 2021 - 18:52",
   "USERSWEB" : "Main",
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "SKIN" : "damask,famfamfam,pattern",
   "WIKINAME" : "WikiGuest",
   "USERNAME" : "guest",
   "SCRIPTURL" : "https://damask.mpie.de/bin",
   "SCRIPTURLPATHS" : {
      "view" : "/bin/view"
   },
   "TOPIC" : "ManagingUsers",
   "WEB" : "System",
   "URLHOST" : "https://damask.mpie.de",
   "PUBURLPATH" : "/pub",
   "PUBURL" : "https://damask.mpie.de/pub",
   "SCRIPTSUFFIX" : "",
   "WIKIUSERNAME" : "Main.WikiGuest",
   "SYSTEMWEB" : "System",
   "SCRIPTURLPATH" : "/bin",
   "COOKIEREALM" : ""
}
</script>
<script class='script JavascriptFiles/foswikiString' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiString.js"></script>
<script class='script JavascriptFiles/foswikiForm' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiForm.js"></script>
<script class='script JQUERYPLUGIN::JEDITABLE' src='/pub/System/JEditableContrib/jquery.jeditable.js?version=06 Feb 2017'></script>
<script class='script JQUERYPLUGIN::UPLOADER::META foswikiPreferences' type='text/json'>{"TopicInteractionPlugin":{"attachFileSizeLimit":"262144","officeSuite":""}}</script>
<script class='script JavascriptFiles/strikeone' type="text/javascript" src="/pub/System/JavascriptFiles/strikeone.js"></script>
<script class='script JQUERYPLUGIN::METADATA' src='/pub/System/JQueryPlugin/plugins/metadata/jquery.metadata.js?version=2.1ef2bb44c86f5d0e98d55'></script>
<script class='script JQUERYPLUGIN::CHILI' src='/pub/System/JQueryPlugin/plugins/chili/jquery.chili.js?version=2.2_1'></script>
<script class='script JQUERYPLUGIN::CHILI' src='/pub/System/JQueryPlugin/plugins/chili/jquery.chili.init.js?version=2.2_1'></script>
<script class='script JavascriptFiles/foswikiPref' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiPref.js"></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/jquery.tablesorter.js?version=2.0.3'></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/tables.js?version=2.0.3'></script>
<script class='script JQTABLEPLUGIN::SORT' type='text/javascript'>
jQuery.extend(foswiki.preferences, {
  'JQTablePlugin.sort' : 'all'
});
</script>
<script class='script JQUERYPLUGIN::COMMENT' src='/pub/System/CommentPlugin/comment.js?version=3.0'></script>
<script class='script PatternSkin/pattern' type="text/javascript" src="/pub/System/PatternSkin/pattern.js"></script>

<link rel="stylesheet" href="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.css">
<script src="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.js"></script>
</head> 
<body class="foswikiNoJs patternViewPage foswikiHasNoChangePermission foswikiGuest">
<span id="PageTop"></span><div class="foswikiPage"><div id="patternScreen">
<div id="patternPageShadow"><div id="patternTopBar">
  <div id="patternTopBarContentsWrapper">
	 <div id="patternTopBarContents"><table border="0" cellpadding="0" cellspacing="0" style="width:100%" summary="">
<tr><td valign="middle"><span id="foswikiLogo" class="foswikiImage"><a href="https://damask.mpie.de/bin/view/Home/WebHome"><img src="" border="0" alt="Powered by Foswiki, The Free and Open Source Wiki" style="border:none;" /></a></span></td>
<td align="right" valign="top" class="patternMetaMenu">
 <ul>
<li> <form name="jumpForm" action="/bin/view/System/ManagingUsers"><input id="jumpFormField" title="Jump" type="text" class="foswikiInputField foswikiDefaultText" name="topic" value="" size="18" /><noscript>&nbsp;<input type="submit" class="foswikiButton" size="5" name="submit" value="Jump" />&nbsp;</noscript>   </form>
</li> <li> <form name="quickSearchForm" action="/bin/view/System/WebSearch"><input type="text" class="foswikiInputField foswikiDefaultText" title="Search" id="quickSearchBox" name="search" value="" size="18" /><input type="hidden" name="scope" value="all" /><input type="hidden" name="web" value="System" /><noscript>&nbsp;<input type="submit" size="5" class="foswikiButton" name="submit" value="Search" />&nbsp;</noscript>   </form>
</li></ul> 
<p></p>

</td></tr></table></div>
  </div>
</div><div id="patternTopBarButtons"><ul>
<li><a href="https://damask.mpie.de/bin/view/Home/WebHome" class="inactive">Home</a></li>
<li><a href="https://damask.mpie.de/bin/view/About/WebHome" class="inactive">About</a></li>
<li><a href="https://damask.mpie.de/bin/view/Download/WebHome" class="inactive">Download</a></li>
<li><a href="https://damask.mpie.de/bin/view/Installation/WebHome" class="inactive">Installation</a></li>
<li><a href="https://damask.mpie.de/bin/view/Usage/WebHome" class="inactive">Usage</a></li>
<li><a href="https://damask.mpie.de/bin/view/Documentation/WebHome" class="inactive">Documentation</a></li>
<li><a href="https://damask.mpie.de/bin/view/Development/WebHome" class="inactive">Development</a></li>
<li><a href="https://damask.mpie.de/bin/view/References/WebHome" class="inactive">References</a></li>
<li><a href="https://damask.mpie.de/bin/view/Examples/WebHome" class="inactive">Examples</a></li>
</ul><div class="foswikiClear"></div></div>
<div id="patternPage">
<div id="patternWrapper"><div id="patternOuter" class="clear">
<div id="patternFloatWrap">
<div id="patternMain"><div id="patternClearHeaderCenter"></div>
<div id="patternMainContents"><div class="patternTop clear"><span class="patternHomePath foswikiLeft"><span class="patternHomePathTitle">You are here: </span><a href="/bin/view/">DAMASK</a><span class='foswikiSeparator'>&gt;</span><a href="/bin/view/System/WebHome">System</a><span class='foswikiSeparator'>&gt;</span><a href="/bin/view/System/Category">Category</a><span class='foswikiSeparator'>&gt;</span><a href="/bin/view/System/AdminDocumentationCategory">AdminDocumentationCategory</a><span class='foswikiSeparator'>&gt;</span><a href="https://damask.mpie.de/bin/view/System/ManagingUsers" title='Topic revision: 1 (02 Mar 2018 - 15:32:05)'>ManagingUsers</a></span><span class="patternToolBar foswikiRight"><span class='foswikiToolBar foswikiRight foswikiUnauthenticated'>
<p></p>

<span>
<a href="https://damask.mpie.de/bin/edit/System/ManagingUsers?t=1627663977;nowysiwyg=1" title="Edit Wiki text (w)">
<img alt="Edit Wiki text (w)" src="https://damask.mpie.de/pub/System/FamFamFamSilkIcons/pencil.png" width="16" height="16" />
</a></span><span>
	<a class='foswikiRequiresChangePermission' href='https://damask.mpie.de/bin/attach/System/ManagingUsers' title='Attach an image or document to this topic; manage existing attachments (a)'>
		<img alt='Attach an image or document to this topic; manage existing attachments (a)' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/attach.png' width='16' height='16' />
	</a></span><span>
    </span><span>
	<a href='https://damask.mpie.de/bin/diff/System/ManagingUsers?type=history' title='View sequential topic history'>
		<img alt='View sequential topic history' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/page_white_stack.png' width='16' height='16' />
	</a></span><span>
	<a href='https://damask.mpie.de/bin/view/System/ManagingUsers?raw=on&amp;rev=1' title='View without formatting (v)'>
		<img alt='View without formatting (v)' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/text_align_left.png' width='16' height='16' />
	</a></span><span>
	<a class='foswikiRequiresChangePermission' href='https://damask.mpie.de/bin/view/System/WebCreateNewTopic?topicparent=ManagingUsers' title='Create new topic'>
		<img alt='Create new topic' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/page_white_add.png' width='16' height='16' />
	</a></span><span>
	<a href='https://damask.mpie.de/bin/view/System/ManagingUsers?cover=print;' title='Printable version of this topic (p)'>
		<img alt='Printable version of this topic (p)' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/printer.png' width='16' height='16' />
	</a></span><span>
        <a href='https://damask.mpie.de/bin/oops/System/ManagingUsers?template=more&amp;maxrev=1&amp;currrev=1' title='More: delete or rename this topic; set parent topic; view and compare revisions (m)'>
                <img alt='More: delete or rename this topic; set parent topic; view and compare revisions (m)' src='https://damask.mpie.de/pub/System/FamFamFamSilkIcons/wrench.png' width='16' height='16' />
	</a></span> 
		</span></span></div><div class="foswikiContentHeader"></div><div class="patternContent"><div class="foswikiTopic">
<h1 id="Manage_Users">  Manage Users </h1>
<p class='p'>Register users on your Foswiki site; change/reset/install passwords; remove user accounts</p>

<div class="foswikiToc" id="foswikiTOC"><span class="foswikiTocTitle">On this page:</span> <ul>
<li> <a href="#Authentication_and_Access_Control"> Authentication and Access Control </a>
</li> <li> <a href="#Register_User"> Register User </a>
</li> <li> <a href="#Change_44_Reset_and_Install_Passwords"> Change, Reset and Install Passwords </a>
</li> <li> <a href="#Changing_User_Account_Names"> Changing User Account Names </a>
</li> <li> <a href="#Removing_User_Accounts"> Removing User Accounts </a>
</li> <li> <a href="#Configuring_User_Registration"> Configuring User Registration </a> <ul>
<li> <a href="#Verification_of_the_new_registration_email_address"> Verification of the new registration email address </a>
</li> <li> <a href="#Administrative_approval_of_new_registrations"> Administrative approval of new registrations </a>
</li> <li> <a href="#Registration_Email_Requirements"> Registration Email Requirements </a>
</li> <li> <a href="#Expiration_of_pending_registrations_and_approvals"> Expiration of pending registrations and approvals </a>
</li></ul> 
</li> <li> <a href="#Customizing_the_User_Registration_pages"> Customizing the User Registration pages </a> <ul>
<li> <a href="#Creating_a_custom_User_Registration_page"> Creating a custom User Registration page </a>
</li> <li> <a href="#Creating_a_custom_System.NewUserTemplate_and_System.UserForm"> Creating a custom NewUserTemplate and UserForm </a>
</li> <li> <a href="#Creating_multiple_categories_of_users"> Creating multiple categories of users </a>
</li></ul> 
</li> <li> <a href="#Customizing_registration_Emails."> Customizing registration Emails. </a>
</li></ul> 
</div>
<p></p>

<div class="foswikiHelp"> <img src="/pub/System/DocumentGraphics/warning.png" alt="ALERT!" title="ALERT!" width="16" height="16" /> Some of the features below may be disabled, depending on your Foswiki
configuration.</div>
<p></p>

<h2 id="Authentication_and_Access_Control">  Authentication and Access Control </h2>
<p></p>
 <ul>
<li> <a href="/bin/view/System/UserAuthentication">UserAuthentication</a> describes your options for user authentication
</li> <li> <a href="/bin/view/System/AccessControl">AccessControl</a> describes how to define groups and how to restrict     access to content
</li></ul> 
<p></p>

<h2 id="Register_User">  Register User </h2>
<p></p>

You don't have to have user home pages in Foswiki for Authentication to
work - see <a href="/bin/view/System/UserAuthentication">UserAuthentication</a> for details.
<p></p>
 <ul>
<li> <a href="/bin/view/System/UserRegistration">UserRegistration</a> is used when you want new users to individually     register with Foswiki by filling out a form
</li> <li> <a href="/bin/view/System/BulkRegistration">BulkRegistration</a> is used by administrators to register multiple users at     the same time
</li></ul> 
<p></p>

<h2 id="Change_44_Reset_and_Install_Passwords">  Change, Reset and Install Passwords </h2>
<p></p>

<em>Note that the below features are only relevant when you use an internal password manager where Foswiki can set and reset passwords.</em>
<p></p>
 <ul>
<li> <a href="/bin/view/System/ChangePassword">ChangePassword</a> is for users who <em>can</em> remember their password and want to     change it
</li> <li> <a href="/bin/view/System/ResetPassword">ResetPassword</a> is for users who <em>cannot</em> remember their password; a system     generated password is e-mailed to them
</li> <li> <a href="/bin/view/System/BulkResetPassword">BulkResetPassword</a> is for administrators who want to reset many passwords     at once
</li> <li> <a href="/bin/view/System/ChangeEmailAddress">ChangeEmailAddress</a> changes the hidden email address stored in the password     file
</li></ul> 
<p></p>

<h2 id="Changing_User_Account_Names">  Changing User Account Names </h2>
<p></p>

To change the user's <a href="/bin/view/System/WikiName">WikiName</a>: <ul>
<li> Rename the user's Foswiki homepage in the Main web, such as     from <code>JaneSmith</code> to <code>JaneMiller</code>. <ul>
<li> Fix backlinks in the Main web only
</li> <li> Make sure the group topics are updated (if any.)
</li></ul> 
</li> <li> Edit the <a href="/bin/view/Main/WikiUsers">WikiUsers</a> topic and move the user's entry so     that the list is in proper alphabetical order.
</li> <li> Recreate the old topic with a pointer to the new topic, so that links     in other webs work properly. Example content:<br />     <pre class="tml">&#37;M&#37; Jane Smith is now known as JaneMiller</pre>
</li></ul> 
<p></p>

If external authentication is used and you want to change the login username: <ul>
<li> The login username needs to be changed in the authentication server (e.g.     Active Directory)
</li> <li> In Foswiki's <a href="/bin/view/Main/WikiUsers">WikiUsers</a> topic, fix the mapping from     username to <a href="/bin/view/System/WikiName">WikiName</a>:<br />     <code>&nbsp;&nbsp; * JaneSmith - jsmith - 13 Sep 2006</code> <br />     to: <br />     <code>&nbsp;&nbsp; * JaneMiller - jmiller - 13 Sep 2006</code>
</li></ul> 
<p></p>

<h2 id="Removing_User_Accounts">  Removing User Accounts </h2>
<p></p>

<span class='foswikiAlert'>
      No permission to view <a href="/bin/view/System/RemoveUser">RemoveUser</a> 
</span>
<p></p>

<h2 id="Configuring_User_Registration">  Configuring User Registration </h2>
<p></p>

The registration process is configured at <a href="/bin/configure">configure</a> <code>Security and Authentication</code> tab, <code>Registration</code> sub-tab. <ul>
<li> Registration is enabled with <code>{Register}{EnableNewUserRegistration}</code> (This is the default)
</li></ul> 
<p></p>

<h3 id="Verification_of_the_new_registration_email_address">  Verification of the new registration email address </h3>
<p></p>

Registration can be configured to require a verification via the registered email address: <code>{Register}{NeedVerification}</code> <ul>
<li> An email is sent to the email address entered by the new user with a confirmation code.
</li> <li> The user must enter the confirmation code into a dialog on the wiki to confirm the registration.
</li> <li> The pending registration lifetime defaults to 6 hours.  If the user does not confirm within that time, the pending registration will be removed.
</li> <li> Registration requests pending verification can be viewed by visiting the <a class="foswikiNewLink" href="/bin/edit/System/PendingRegistrationsReport?topicparent=System.ManagingUsers" rel="nofollow" title="Create this topic">PendingRegistrationsReport</a>
</li></ul> 
<p></p>

<h3 id="Administrative_approval_of_new_registrations">  Administrative approval of new registrations </h3>
<p></p>

Registration can be configured to require approval. <code>{Register}{NeedApproval}</code> <ul>
<li> If confirmation is enabled, the email address is verified per the steps in the prior paragraph
</li> <li> An email is then set to the list of Approvers - <code>{Register}{Approvers}</code>
</li> <li> The approver can then Approve or Deny the registration by following a link in the email.
</li> <li> Registrations awaiting approval can be viewed and approved from the <a class="foswikiNewLink" href="/bin/edit/System/PendingRegistrationsReport?topicparent=System.ManagingUsers" rel="nofollow" title="Create this topic">PendingRegistrationsReport</a>
</li></ul> 
<p></p>

<h3 id="Registration_Email_Requirements">  Registration Email Requirements </h3>
<p></p>

By default, Foswiki does not require unique email addresses. Multiple users can register using the same email address.   Enable the setting <code>{Register}{UniqueEmail}</code>  to prevent use of the same email by multiple users.
<p></p>

By default, any email domain can be used for registration.  Set the <em>expert</em> setting <code>{Register}{EmailFilter}</code> to restrict the domains usable for registration.  See the configure help for more details.
<p></p>

See the configure help at <a href="/bin/configure">configure</a> <code>Security and Authentication</code> tab, <code>Registration</code> sub-tab, for more details.
<p></p>

<h3 id="Expiration_of_pending_registrations_and_approvals">  Expiration of pending registrations and approvals </h3>
<p></p>

By default, expiration of pending registrations and approvals is done "on the fly" during the registration process. For best performance, you can set
<code>{Register}{ExpireAfter}</code> to a negative number, which will mean that Foswiki won't try to clean up expired registrations durning registration. Instead you
should use a cron job to clean up expired sessions. The standard maintenance cron script <code>tools/tick_foswiki.pl</code> includes this function.
<p class='p'>Note that if you are using registration approval by 3rd party reviewers, this timer should most likely be significantly increased. 24 hours = 86400, 3 days = 259200.</p>

Pending registration requests are stored in the <code>{WorkingDir}/registration_approvals</code> directory, but are no longer in plain text format.  To view the pending registrations see the new <a class="foswikiNewLink" href="/bin/edit/System/PendingRegistrations?topicparent=System.ManagingUsers" rel="nofollow" title="Create this topic">PendingRegistrations</a> report.
<p></p>

<h2 id="Customizing_the_User_Registration_pages">  Customizing the User Registration pages </h2>
If you modify any of the topic related to User Registration, you should put the modified versions into the Main web.  This will make it easier to
upgrade to new versions of Foswiki.
<p></p>

<h3 id="Creating_a_custom_User_Registration_page">  Creating a custom User Registration page </h3>
Three topics make up the user registration page: <ul>
<li> <a href="/bin/view/System/UserRegistration">UserRegistration</a>:  A "shim" landing page which will display the Main web version if it exists, otherwise it displays <a href="/bin/view/System/DefaultUserRegistration">DefaultUserRegistration</a> <em>You should never have to change this page!</em>
</li> <li> <a href="/bin/view/System/DefaultUserRegistration">DefaultUserRegistration</a>: The actual registration page.  This is what you copy to <a href="/bin/view/Main/UserRegistration">UserRegistration</a> for customization.
</li> <li> <a href="/bin/view/System/UserRegistrationParts">UserRegistrationParts</a>: The components that make up the page.  More advanced modifications might also have to copy this topic to the Main.
</li></ul> 
<p></p>

The actual customization steps are documented in comments internal to <a href="/bin/view/System/DefaultUserRegistration">DefaultUserRegistration</a>. The general steps are: <ol>
<li> Copy  <a href="/bin/view/System/DefaultUserRegistration">DefaultUserRegistration</a> to <a href="/bin/view/Main/UserRegistration">UserRegistration</a>.  (Use the "More topic actions" option on <a href="/bin/view/System/DefaultUserRegistration">DefaultUserRegistration</a>)
</li> <li> Edit <a href="/bin/view/Main/UserRegistration">UserRegistration</a> that you just created and follow the instructions on that page.
</li></ol> 
<p></p>

Using these two steps, you can: <ul>
<li> Enable/disable entry of existing <a href="/bin/view/System/UserForm">UserForm</a> fields in registration. 
</li> <li> Enable automatic group membership during registration.
</li></ul> 
<p class='p'>Note that while it may be interesing to enable fields like OrganizationURL, Comments, etc. they are often used by registration SPAM-Bots to generate
topics with links.</p>

<h3 id="Creating_a_custom_System.NewUserTemplate_and_System.UserForm">  Creating a custom <a href="/bin/view/System/NewUserTemplate">NewUserTemplate</a> and <a href="/bin/view/System/UserForm">UserForm</a> </h3>
<p class='p'>If you want to modify the contents of the user page that is created during
user registration.</p>
 <ol>
<li> Copy <a href="/bin/view/System/NewUserTemplate">NewUserTemplate</a> to <a class="foswikiNewLink" href="/bin/edit/Main/NewUserTemplate?topicparent=System.ManagingUsers" rel="nofollow" title="Create this topic">NewUserTemplate</a>
</li> <li> Modify the page as desired.
</li></ol> 
<p class='p'>The Registration process will automatically find and use the Main
version of the template if it exists.</p>

If you want to customize the contents of the <a href="/bin/view/System/UserForm">UserForm</a>, for example, to remove
or add field: <ol>
<li> Copy <a href="/bin/view/System/NewUserTemplate">NewUserTemplate</a> to <a class="foswikiNewLink" href="/bin/edit/Main/UserTemplate?topicparent=System.ManagingUsers" rel="nofollow" title="Create this topic">UserTemplate</a>
</li> <li> Copy <a href="/bin/view/System/UserForm">UserForm</a> to <a class="foswikiNewLink" href="/bin/edit/Main/UserForm?topicparent=System.ManagingUsers" rel="nofollow" title="Create this topic">UserForm</a>
</li> <li> Make your desired changes.
</li> <li> Edit <a href="/bin/view/System/NewUserTemplate">NewUserTemplate</a>, delete the <a href="/bin/view/System/UserForm">UserForm</a>, and add your new Main form.
</li></ol> 
See <a href="/bin/view/System/UserForm#CustomForm">UserForm</a> for more details.
<p></p>

<h3 id="Creating_multiple_categories_of_users">  Creating multiple categories of users </h3>
<p class='p'>By combining all the above concepts, it's possible to have multiple categories
of users,  for example "Customers", "Vendors", "Employees", each with a
custom Template topic, a custom User form and a custom Registration form.</p>

Multiple categories of users can be supported by: <ul>
<li> Creating an alternate version of the <a href="/bin/view/System/DefaultUserRegistration">DefaultUserRegistration</a> page
</li> <li> Creating an alternate version of the <a href="/bin/view/System/NewUserTemplate">NewUserTemplate</a> and <a href="/bin/view/System/UserForm">UserForm</a>
</li> <li> And configuring the new registration page to use the new user template.
</li></ul> 
<p></p>

<h2 id="Customizing_registration_Emails.">  Customizing registration Emails. </h2>
Foswiki's Registration can send 7 emails whose output is governed by templates:
          <table class="foswikiTable" rules="none">   
	<tbody>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> User registration confirmation. (Awaiting email verification). </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <code>templates/registerconfirm.tmpl</code> </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> User registration failed notification, cleanup was successful. </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <code>templates/registerfailedremoved.tmpl</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> User registration failed notification, cleanup of partial registration also failed. </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <code>templates/registerfailednotremoved.tmpl</code> </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> User registration denied notification. </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <code>templates/registerdenied.tmpl</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Approver registration pending notification. </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <code>templates/registerapprove.tmpl</code> </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> User notification of sucessful registraiton. </td>
			<td class="foswikiTableCol1 foswikiLastCol"> <code>templates/registernotify.tmpl</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> Administrator notification of successful registration. </td>
			<td class="foswikiTableCol1 foswikiLastCol foswikiLast"> <code>templates/registernotifyadmin.tmpl</code> </td>
		</tr>
	</tbody>   </table>
<p></p>

As these are <a href="/bin/view/System/SkinTemplates">SkinTemplates</a>, they can be customized and selected using the SKIN path setting.
Because there are default <code>.tmpl</code> files in the <code>templates</code> dir, this cannot use Template topics.
<p></p>

Note: As of Foswiki 2.1.3, the email <code>From:</code> address can be different from the WIKIWEBMASTER address, and is configurable using the <code>bin/configure</code> tool.
See the "Expert" <code>{WikiAgentName}</code> and <code>{WikiAgentEmail}</code> settings on the "Mail" section, "Basic Settings and Autoconfiguration" tab.
If these fields are not set, then the WIKIWEBMASTER setting will be used as the <code>From:</code> address.
<p class='p'>These template files have a specific format that matches the raw format of emails sent via SMTP,
so be careful and test your changes. It is easiest to start by copying the default templates that you
wish to change.:  (You don't need to copy every template).</p>

<pre class="bash">
cd templates
cp registernotify.tmpl registernotify.myskin.tmpl
cp registerconfirm.tmpl registerconfirm.myskin.tmpl
cp registernotifyadmin.tmpl registernotifyadmin.myskin.tmpl
</pre>
then add <code>myskin</code> to the beginning of the <code>SKIN</code> setting in <a href="/bin/view/Main/SitePreferences">SitePreferences</a>.
<p class='p'>From this point on, your myskin templates will be used for the registration emails.</p>

To make it possible for users to modify the email contents, you could use a parameterized <code>%INCLUDE%</code>
statement in your customized version, eg:
<p></p>

<pre class="tml">
From: &#37;WIKIAGENTNAME&#37; &#60;&#37;WIKIAGENTEMAIL&#37;&#62;
To: &#37;FIRSTLASTNAME&#37; &#60;&#37;EMAILADDRESS&#37;&#62;
Subject: &#37;MAKETEXT{
   &#34;&#91;&#95;1&#93; - Registration for &#91;&#95;2&#93; (&#91;&#95;3&#93;)&#34;
   args&#61;&#34;&#37;WIKITOOLNAME&#37;, &#37;WIKINAME&#37;, &#37;EMAILADDRESS&#37;&#34;
}&#37;
Auto-Submitted: auto-generated
MIME-Version: 1.0
Content-Type: text/plain; charset&#61;&#37;CHARSET&#37;
Content-Transfer-Encoding: 8bit

&#37;INCLUDE{
    &#34;&#37;USERSWEB&#37;.RegisterNotifyEmail&#34;
    WIKINAME&#61;&#34;&#37;WIKINAME&#37;&#34;
    FIRSTLASTNAME&#61;&#34;&#37;FIRSTLASTNAME&#37;&#34;
    EMAILADDRESS&#61;&#34;&#37;EMAILADDRESS&#37;&#34;
    TEMPLATETOPIC&#61;&#34;&#37;TEMPLATETOPIC&#37;&#34;
}&#37;
</pre>
<div class="foswikiHelp"> <img src="/pub/System/DocumentGraphics/help.png" alt="HELP" title="HELP" width="16" height="16" /> <strong>Note</strong> the use of %WIKINAME%, %FIRSTLASTNAME%, %EMAILADDRESS%, passed in from the INCLUDE so that the topic below is similar to the original template.
The %TEMPLATETOPIC% variable is also available.  It could be used as a "section" name in the include, or directly in the email for tailoring messages for specific types of users.</div>
<p></p>

and then create a topic Main.RegisterNotifyEmail:
<pre class="tml">
Welcome to &#37;WIKITOOLNAME&#37;.

&#37;MAKETEXT{&#34;Your personal &#91;&#95;1&#93; topic is located at &#91;&#95;2&#93;. You can customize it as you like:&#34; args&#61;&#34;&#37;WIKITOOLNAME&#37;, &#37;SCRIPTURL{&#34;view&#34;}&#37;/&#37;USERSWEB&#37;/&#37;WIKINAME&#37;&#34;}&#37;

   &#42; &#37;MAKETEXT{&#34;Some people turn it into a personal portal with favorite links, what they work on, what help they&#39;d like, etc.&#34;}&#37;
   &#42; &#37;MAKETEXT{&#34;Some add schedule information and vacation notice.&#34;}&#37;

Regards
&#37;WIKIWEBMASTERNAME&#37;
Your Wiki Admin

&#37;MAKETEXT{&#34;Note:&#34;}&#37;
   2 &#37;MAKETEXT{&#34;You can change your password at via &#91;&#95;1&#93;&#34; args&#61;&#34;&#37;SCRIPTURL{&#34;view&#34;}&#37;/&#37;SYSTEMWEB&#37;/ChangePassword&#34;}&#37;
   3 &#37;MAKETEXT{&#34;If you haven&#39;t set a password yet or you want to reset it, go to: &#91;&#95;1&#93;&#34; args&#61;&#34;&#37;SCRIPTURL{&#34;view&#34;}&#37;/&#37;SYSTEMWEB&#37;/ResetPassword&#34;}&#37;

&#37;MAKETEXT{&#34;Submitted content:&#34;}&#37;
&#37;FORMDATA&#37;

</pre>
<p></p>

<hr />
<strong>Related Topics:</strong> <a href="/bin/view/System/AdminDocumentationCategory">AdminDocumentationCategory</a>
 </div>
<div class="foswikiContentFooter"></div><div class="foswikiFormSteps"><div class="patternTopicActions foswikiFormStep"><span class="patternActionButtons"><a class='foswikiRequiresChangePermission' href='https://damask.mpie.de/bin/edit/System/ManagingUsers?t=1627663977' rel='nofollow' title='Edit this topic text' accesskey='e'><span class='foswikiAccessKey'>E</span>dit </a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><a class='foswikiRequiresChangePermission' href='/bin/attach/System/ManagingUsers' rel='nofollow' title='Attach an image or document to this topic' accesskey='a'><span class='foswikiAccessKey'>A</span>ttach</a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/view/System/ManagingUsers?cover=print;' rel='nofollow' title='Printable version of this topic' accesskey='p'><span class='foswikiAccessKey'>P</span>rint version</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a class='foswikiRequiresChangePermission' href='/bin/oops/System/ManagingUsers?template=oopshistory' rel='nofollow' title='View complete topic history' accesskey='h'><span class='foswikiAccessKey'>H</span>istory</a>: r1</span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/view/System/ManagingUsers?template=backlinksweb' rel='nofollow' title='Search the System Web for topics that link to here' accesskey='b'><span class='foswikiAccessKey'>B</span>acklinks</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/view/System/ManagingUsers?raw=on' rel='nofollow' title='View without formatting' accesskey='v'><span class='foswikiAccessKey'>V</span>iew wiki text</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><a class='foswikiRequiresChangePermission' href='https://damask.mpie.de/bin/edit/System/ManagingUsers?t=1627663977;nowysiwyg=1' rel='nofollow' title='Edit Wiki text' accesskey='w'>Edit <span class='foswikiAccessKey'>w</span>iki text</a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/view/System/ManagingUsers?template=more&amp;maxrev=1&amp;currrev=1' rel='nofollow' title='Delete or rename this topic; set parent topic; view and compare revisions' accesskey='m'><span class='foswikiAccessKey'>M</span>ore topic actions</a></span></span></div></div></div><div class="patternInfo"><span class="patternRevInfo">Topic revision: r1 - 02 Mar 2018, <a href="/bin/view/Main/UnknownUser">UnknownUser</a></span></div>
</div>
</div><div id="patternSideBar"><div id="patternClearHeaderLeft"></div>
<div id="patternSideBarContents">
<div class="patternLeftBarPersonal">
<ul id="patternLeftBarUserActions">
<li class='patternLogIn'><img src='/pub/System/FamFamFamSilkIcons/key.png' class='foswikiIcon jqIcon key'  alt='key' /><a href="/bin/login/System/ManagingUsers?foswiki_origin=GET%2cview%2c/bin/view/System/ManagingUsers">Log In</a></li></ul>
</div>
<p class='p'></p>
 <ul>
<li> <strong>Toolbox</strong>
</li> <li> <a href="/bin/view/Main/WikiUsers"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/person.png' width='16' height='16' alt='person' /></span> Users</a>
</li> <li> <a href="/bin/view/Main/WikiGroups"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/group.png' width='16' height='16' alt='group' /></span> Groups</a>
</li> <li> <a href="/bin/view/System/WebTopicList"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/index.png' width='16' height='16' alt='index' /></span> Index</a>
</li> <li> <a href="/bin/view/System/WebSearch"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/searchtopic.png' width='16' height='16' alt='searchtopic' /></span> Search</a>
</li> <li> <a href="/bin/view/System/WebChanges"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/changes.png' width='16' height='16' alt='changes' /></span> Changes</a>
</li> <li> <a href="/bin/view/System/WebNotify"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/notify.png' width='16' height='16' alt='notify' /></span> Notifications</a>
</li> <li> <a href="/bin/view/System/WebRss"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/feed.png' width='16' height='16' alt='feed' /></span> RSS Feed</a> 
</li> <li> <a href="/bin/view/System/WebPreferences"> <span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/wrench.png' width='16' height='16' alt='wrench' /></span> Preferences</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>User Reference</b>
</li> <li> <a href="/bin/view/System/BeginnersStartHere">BeginnersStartHere</a>
</li> <li> <a href="/bin/view/System/EditingShorthand">EditingShorthand</a>
</li> <li> <a href="/bin/view/System/Macros">Macros</a>
</li> <li> <a href="/bin/view/System/MacrosQuickReference">MacrosQuickReference</a>
</li> <li> <a href="/bin/view/System/FormattedSearch">FormattedSearch</a>
</li> <li> <a href="/bin/view/System/QuerySearch">QuerySearch</a>
</li> <li> <a href="/bin/view/System/DocumentGraphics">DocumentGraphics</a>
</li> <li> <a href="/bin/view/System/SkinBrowser">SkinBrowser</a>
</li> <li> <a href="/bin/view/System/InstalledPlugins">InstalledPlugins</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>Admin Maintenance</b>
</li> <li> <a href="/bin/view/System/ReferenceManual">Reference Manual</a>
</li> <li> <a href="/bin/view/System/AdminToolsCategory">AdminToolsCategory</a>
</li> <li> <a href="/bin/view/System/InterWikis">InterWikis</a>
</li> <li> <a href="/bin/view/System/ManagingWebs">ManagingWebs</a>
</li> <li> <a href="/bin/view/System/SiteTools">SiteTools</a>
</li> <li> <a href="/bin/view/System/DefaultPreferences">DefaultPreferences</a>
</li> <li> <a href="/bin/view/System/WebPreferences">WebPreferences</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>Categories</b>
</li> <li> <a href="/bin/view/System/AdminDocumentationCategory">AdminDocumentationCategory</a>
</li> <li> <a href="/bin/view/System/AdminToolsCategory">AdminToolsCategory</a>
</li> <li> <a href="/bin/view/System/DeveloperDocumentationCategory">DeveloperDocumentationCategory</a>
</li> <li> <a href="/bin/view/System/UserDocumentationCategory">UserDocumentationCategory</a>
</li> <li> <a href="/bin/view/System/UserToolsCategory">UserToolsCategory</a>
</li></ul> 
<p class='p'></p>

<p class='p'></p>
 <ul>
<li> <strong>Webs</strong>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/About/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;About</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Applications/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#EDBC18" />&nbsp;Applications</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Applications/ClassificationApp/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#EDBC18" />&nbsp;<span class='foswikiWebIndent'></span>ClassificationApp</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Development/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Development</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Documentation/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Documentation</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Download/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#dedede" />&nbsp;Download</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Examples/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Examples</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Home/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Home</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Installation/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#cdcdcd" />&nbsp;Installation</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Main/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#FFEFA6" />&nbsp;Main</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/References/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;References</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Sandbox/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#FFD8AA" />&nbsp;Sandbox</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/System/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#B9DAFF" />&nbsp;System</a></span>
</li> <li> <span style="white-space:nowrap"><a href="/bin/view/Usage/WebHome"><img src="https://damask.mpie.de/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Usage</a></span>
</li></ul> 
<p></p>

</div></div>
</div>
</div></div><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="patternWebBottomBar"><span class="foswikiRight"> <a href="http://foswiki.org/"><img src="/pub/System/ProjectLogos/foswiki-badge.png" height="42" alt="This site is powered by Foswiki" title="This site is powered by Foswiki" /></a></span>Copyright &copy; by the contributing authors. All material on this site is the property of the contributing authors. <br /> Ideas, requests, problems regarding DAMASK? <a href='mailto:damask@mpie.de?subject=DAMASK%20Feedback%20on%20System.ManagingUsers'>Send feedback</a> </div></div></div>
</div>
</div>
</div>
</div></body></html>