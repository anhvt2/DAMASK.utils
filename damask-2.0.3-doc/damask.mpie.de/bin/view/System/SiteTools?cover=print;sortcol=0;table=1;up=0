<!DOCTYPE html><html lang="en">
<head>
<title> SiteTools &lt; System &lt; DAMASK</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link rel="icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="alternate" href="https://damask.mpie.de/bin/edit/System/SiteTools?t=1627670997" type="application/x-wiki" title="edit SiteTools" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" />
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/System/WebRss" />
<base href="https://damask.mpie.de/bin/view/System/SiteTools" /><!--[if IE]></base><![endif]-->
<link rel='stylesheet' href='/pub/System/PageOptimizerPlugin/cache/613b1548f045f27265fa9c61c623d26a.css' class='CLASSIFICATIONPLUGIN::CSS JQUERYPLUGIN::BOOKMAKER JQUERYPLUGIN::BUTTON JQUERYPLUGIN::COMMENT JQUERYPLUGIN::TABLESORTER SMILIESPLUGIN head' media='all' />

<style class='head EXTERNALLINKPLUGIN_CSS' type="text/css" media="all">
.externalLink a:link,
.externalLink a:visited,
.externalLink a:hover {
	background-image:url(/pub/System/ExternalLinkPlugin/diagonal.gif);
	background-repeat:no-repeat;
	background-position:right;
	padding-right:18px;
}
</style>

<style class='head TABLEPLUGIN_default' type="text/css" media="all">
body .foswikiTable {border-width:1px}
body .foswikiTable .tableSortIcon img {padding-left:.3em; vertical-align:text-bottom}
body .foswikiTable td {border-style:solid none; vertical-align:top}
body .foswikiTable th {border-style:none solid; vertical-align:top; background-color:#d6d3cf; color:#000000}
body .foswikiTable th a:link {color:#000000}
body .foswikiTable th a:visited {color:#000000}
body .foswikiTable th a:hover {color:#000000; background-color:#d6d3cf}
body .foswikiTable th.foswikiSortedCol {background-color:#c4c1ba}
body .foswikiTable tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td.foswikiSortedCol {background-color:#f0f0ee}
</style>

<style type="text/css" media="all">
		  /* Styles that are set using variables */
		  .patternWebIndicator,
		  .patternWebIndicator a {
					 background-color:none;
		  }
		  #patternTopBarContents { background-image:url(https://damask.mpie.de/pub/System/ProjectLogos/DAMASK.png); background-repeat:repeat-x;}

.patternBookView {
	border-color:#B9DAFF;
}
.patternPreviewPage #patternMain {
	/* uncomment to set the preview image */
	/*background-image:url("/pub/System/PreviewBackground/preview2bg.gif");*/
}
</style>

<script class='script JQUERYPLUGIN' src='/pub/System/JQueryPlugin/jquery-2.2.4.js'></script>
<script class='script JQUERYPLUGIN::BROWSER' src='/pub/System/JQueryPlugin/plugins/browser/jquery.browser.js?version=0.1.0'></script>
<script class='script JQUERYPLUGIN::MIGRATE' src='/pub/System/JQueryPlugin/plugins/migrate/jquery.migrate.js?version=3.2.1'></script>
<script class='script JQUERYPLUGIN::FOSWIKI' src='/pub/System/JQueryPlugin/plugins/foswiki/jquery.foswiki.js?version=2.14'></script>
<script class='script JQUERYPLUGIN::LIVEQUERY' src='/pub/System/JQueryPlugin/plugins/livequery/jquery.livequery.js?version=1.3.6'></script>
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "SCRIPTSUFFIX" : "",
   "SCRIPTURLPATH" : "/bin",
   "WIKINAME" : "WikiGuest",
   "SCRIPTURL" : "https://damask.mpie.de/bin",
   "URLHOST" : "https://damask.mpie.de",
   "SKIN" : "damask,famfamfam,pattern",
   "SERVERTIME" : "30 Jul 2021 - 20:49",
   "PUBURL" : "https://damask.mpie.de/pub",
   "USERNAME" : "guest",
   "WEB" : "System",
   "COOKIEREALM" : "",
   "WIKIUSERNAME" : "Main.WikiGuest",
   "SYSTEMWEB" : "System",
   "USERSWEB" : "Main",
   "PUBURLPATH" : "/pub",
   "SCRIPTURLPATHS" : {
      "view" : "/bin/view"
   },
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "TOPIC" : "SiteTools"
}
</script>
<script class='script JQUERYPLUGIN::UPLOADER::META foswikiPreferences' type='text/json'>{"TopicInteractionPlugin":{"attachFileSizeLimit":"262144","officeSuite":""}}</script>
<script class='script JavascriptFiles/foswikiString' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiString.js"></script>
<script class='script JavascriptFiles/foswikiForm' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiForm.js"></script>
<script class='script JQUERYPLUGIN::METADATA' src='/pub/System/JQueryPlugin/plugins/metadata/jquery.metadata.js?version=2.1ef2bb44c86f5d0e98d55'></script>
<script class='script JQUERYPLUGIN::CHILI' src='/pub/System/JQueryPlugin/plugins/chili/jquery.chili.js?version=2.2_1'></script>
<script class='script JQUERYPLUGIN::CHILI' src='/pub/System/JQueryPlugin/plugins/chili/jquery.chili.init.js?version=2.2_1'></script>
<script class='script JQUERYPLUGIN::COMMENT' src='/pub/System/CommentPlugin/comment.js?version=3.0'></script>
<script class='script JQTABLEPLUGIN::SORT' type='text/javascript'>
jQuery.extend(foswiki.preferences, {
  'JQTablePlugin.sort' : 'all'
});
</script>
<script class='script JavascriptFiles/foswikiPref' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiPref.js"></script>
<script class='script PatternSkin/pattern' type="text/javascript" src="/pub/System/PatternSkin/pattern.js"></script>
<script class='script JQUERYPLUGIN::BUTTON' src='/pub/System/JQueryPlugin/plugins/button/jquery.button.init.js?version=2.0'></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/jquery.tablesorter.js?version=2.0.3'></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/tables.js?version=2.0.3'></script>
<script class='script JavascriptFiles/strikeone' type="text/javascript" src="/pub/System/JavascriptFiles/strikeone.js"></script>
<script class='script JQUERYPLUGIN::BOOKMAKER' src='/pub/System/BookmakerPlugin/bookmaker.js?version=1.1.0'></script>
<script class='script JQUERYPLUGIN::JEDITABLE' src='/pub/System/JEditableContrib/jquery.jeditable.js?version=06 Feb 2017'></script>

<link rel="stylesheet" href="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.css">
<script src="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.js"></script>
</head> 
<body class="foswikiNoJs patternViewPage patternPrintPage"><div id="bookmaker">
  <img src='/pub/System/FamFamFamSilkIcons/book_open.png' class='foswikiIcon jqIcon book_open'  alt='book_open' /> Bookmaker for <a href="/bin/view/Sandbox/ExampleBook">ExampleBook</a>
  <table width="100%" cellpadding="0" cellspacing="0" style="min-height: 25px">
	 <tr>
		<td align="left" width="5%">
	<a id='bookmaker_change' class='jqButton ' href='#' title='Open a different book' ><span class='jqButtonText'>Change book</span></a>
	<div id="new_book" style="display:none">
	  <form method="POST" action="/bin/view/System/SiteTools" onsubmit="StrikeOne.submit(this)"><input type='hidden' name='validation_key' value='?14254216bccf7f3fd07ab98b37b48279' />
	    <input type="text" id="book_title" name="open_bookmaker" title="Enter the web.topic name of the book topic, and hit Enter" value="Sandbox.ExampleBook" />
	  </form>
	</div>
		 </td>
		<td align="left">
	<a id='bookmaker_close' class='jqButton ' href='/bin/view/System/SiteTools?close_bookmaker=1' title='Close the bookmaker interface' ><span class='jqButtonText'>Close bookmaker</span></a>
		</td>
		<td align="right">
	<form method="POST" onsubmit="StrikeOne.submit(this)"><input type='hidden' name='validation_key' value='?6fa4fe94d452c6eb3324f844f6f6d124' />
	  <a id='bookmaker_add_button' class='jqButton bookmaker_button bookmaker_action bookmaker_active' href='https://damask.mpie.de/bin/rest/BookmakerPlugin/add?topic=System.SiteTools' title='Add the current topic to the book' ><span class='jqButtonText'>Add to book</span></a>
	  <a id='bookmaker_remove_button' class='jqButton bookmaker_button bookmaker_action ' href='https://damask.mpie.de/bin/rest/BookmakerPlugin/remove?topic=System.SiteTools' title='Remove the current topic from the book' ><span class='jqButtonText'>Remove from book</span></a>
	</form>
		</td>
		<td>
	<form method="GET">
	  <a class="bookmaker_button" id="bookmaker_expand" href="https://damask.mpie.de/bin/rest/BookmakerPlugin/list" title="Click to expand the book">
	  <img src='/pub/System/FamFamFamSilkIcons/application_side_expand.png' class='foswikiIcon jqIcon application_side_expand'  alt='application_side_expand' /></a>
	</form>
		</td>
	 </tr>
  </table>
  <div id="bookmaker_more">
	 <em>You can change the order/nesting of topics using drag and drop</em> <br />
	 <a id="bookmaker_contract"><img src='/pub/System/FamFamFamSilkIcons/application_side_contract.png' class='foswikiIcon jqIcon application_side_contract'  alt='application_side_contract' /></a>
	 <div id="book_tree">
	 </div>
  </div>
</div>
<span id="PageTop"></span><div class="foswikiPage"><div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter" class="clear">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="foswikiTopic"> 
<h1 id="Site_Tools">  Site Tools </h1>
<p class='p'>Utilities for searching, navigation, and monitoring site activity</p>

<p class='p'>Site Tools include utilities for navigating, searching and keeping up with site activity.</p>

In particular, you have two highly configurable, automated site monitoring tools, <strong>WebNotify</strong>, to e-mail alerts when topics are edited, and <strong>WebStatistics</strong>, to generate detailed activity reports.
<p></p>

<div class="foswikiToc" id="foswikiTOC"><span class="foswikiTocTitle">On this page:</span> <ul>
<li> <a href="?cover=print;sortcol=0;table=1;up=0#WebNotify_45_recent_changes_alert"> WebNotify - recent changes alert </a> <ul>
<li> <a href="?cover=print;sortcol=0;table=1;up=0#About_the_Web_changes_notification_service"> About the Web changes notification service </a>
</li></ul> 
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#WebSearch_45_search_the_site"> WebSearch - search the site </a>
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#WebChanges_45_what_39s_new"> WebChanges - what's new </a>
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#WebRss_and_WebAtom_45_news_feeds_on_recent_changes"> WebRss and WebAtom - news feeds on recent changes </a>
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#WebIndex_45_list_of_topics"> WebIndex - list of topics </a>
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#WebStatistics_45_site_statistics"> WebStatistics - site statistics </a> <ul>
<li> <a href="?cover=print;sortcol=0;table=1;up=0#Introduction"> Introduction </a>
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#Manually_running_statistics"> Manually running statistics </a>
</li></ul> 
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#Log_Files"> Log Files </a>
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#E_45mail"> E-mail </a> <ul>
<li> <a href="?cover=print;sortcol=0;table=1;up=0#Configuring_outgoing_mail"> Configuring outgoing mail </a> <ul>
<li> <a href="?cover=print;sortcol=0;table=1;up=0#Legacy_and_current_configuration"> Legacy and current configuration </a>
</li></ul> 
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#Setting_the_automatic_e_45mail_schedule"> Setting the automatic e-mail schedule </a>
</li></ul> 
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#Site_Permissions"> Site Permissions </a>
</li> <li> <a href="?cover=print;sortcol=0;table=1;up=0#Help_with_crontab"> Help with crontab </a>
</li></ul> 
</div>
<p></p>

<span id="WebNotify"></span>
<h2 id="WebNotify_45_recent_changes_alert"> WebNotify - recent changes alert </h2>
<p class='p'></p>

<h3 id="About_the_Web_changes_notification_service">  About the Web changes notification service </h3>
<p class='p'>Each Foswiki web has an automatic e-mail notification service that sends you an e-mail with links to all of the topics modified since the last alert.</p>

<p class='p'></p>

Users subscribe to email notifications using their <a href="/bin/view/System/WikiName">WikiName</a> or an alternative email address, and can specify the webs/topics they wish to track. Whole groups of users can also be subscribed for notification.
<p class='p'>The general format of a subscription is:</p>

<em>three spaces</em> <code>*</code> <em>subscriber</em> [ <code>:</code> <em>topics</em> ]
<p></p>

Where <em>subscriber</em> can be a <a href="/bin/view/System/WikiName">WikiName</a>, an email address, or a group name. If <em>subscriber</em> contains any characters that are not legal in an email address, then it must be enclosed in 'single' or "double" quotes. <img src="/pub/System/DocumentGraphics/warning.png" alt="ALERT!" title="ALERT!" width="16" height="16" /> <strong>Note:</strong> The guest user <a href="/bin/view/Main/WikiGuest">WikiGuest</a> does not have an email address mapped to it, and will never receive email regardless of the configuration of that user.
<p></p>

<em>topics</em> is an optional space-separated list of topics: <ul>
<li> ... <strong>without</strong> a <em>Web.</em> prefix
</li> <li> ...that exist in this web.
</li></ul> 
Users may further customize the specific content they will receive using the following controls: <ul>
<li> <strong>Using wild-card character in topic names</strong> - You can use <code>*</code> in a topic name, where it is treated as a <span class='externalLink'><a href="http://en.wikipedia.org/wiki/Wildcard_character">wildcard character</a></span>. A <code>*</code> will match zero or more other characters - so, for example, <code>Fred*</code> will match all topic names starting with <code>Fred</code>, <code>*Fred</code> will match all topic names <em>ending</em> with <code>Fred</code>, and <code>*</code> will match <em>all</em> topic names.
</li> <li> <strong>Unsubscribing to specific topics</strong> - Each topic may optionally be preceded by a '+' or '-' sign. The '+' sign means "subscribe to this topic". The '-' sign means "unsubscribe" or "don't send notifications regarding this particular topic". This allows users to elect to filter out certain topics. Topic filters ('-') take precedence over topic includes ('+') i.e. if you unsubscribe from a topic it will cancel out any subscriptions to that topic.
</li> <li> <strong>Including child-topics in subscription</strong> - Each topic may optionally be followed by an integer in parentheses, indicating the depth of the tree of children below that topic. Changes in all these children will be detected and reported along with changes to the topic itself. <em>Note</em> This uses the Foswiki "Topic parent" feature.
</li> <li> <strong>Subscribing to entire topic ("news mode")</strong> - Each topic may optionally be immediately followed by an exclamation mark ! and/or a question mark ? with no intervening spaces, indicating that the topic (and children if there is a tree depth specifier as well) should be mailed out as <strong>complete topics</strong> instead of change summaries. ! causes the full topic to be mailed every time <em>even if there have been no changes</em>, and ? will mail the full topic only if there have been changes. One can limit the content of the subscribed topic to send out by inserting <code>%STARTPUBLISH%</code> and <code>%STOPPUBLISH%</code> markers within the topic.
</li></ul> 
<p></p>

Examples:
Subscribe Daisy to all changes to topics in this web.
<pre class="tml">
   &#42; daisy.cutter&#64;flowers.com
</pre>
Subscribe Daisy to all changes to topics that start with <code>Web</code>.
<pre class="tml">
   &#42; daisy.cutter&#64;flowers.com : Web&#42;
</pre>
Subscribe Daisy to changes to topics starting with <code>Petal</code>, and their immediate children, <code>WeedKillers</code> and children to a depth of 3, and all topics that match start with <code>Pretty</code> and end with <code>Flowers</code> e.g. <code>PrettyPinkFlowers</code>.
<pre class="tml">
   &#42; DaisyCutter: Petal&#42; (1) WeedKillers (3) Pretty&#42;Flowers
</pre>
Subscribe StarTrekFan to changes to all topics that start with <code>Star</code> <strong>except</strong> those that end in <code>Wars</code>, <code>sInTheirEyes</code> or <code>shipTroopers</code>.
<pre class="tml">
   &#42; StarTrekFan: Star&#42; - &#42;Wars - &#42;sInTheirEyes - &#42;shipTroopers
</pre>
Subscribe Daisy to the full content of <code>NewsLetter</code> whenever it has changed.
<pre class="tml">
   &#42; daisy&#64;flowers.com: NewsLetter?
</pre>
Subscribe buttercup to <code>NewsLetter</code> and its immediate children, even if it hasn't changed.
<pre class="tml">
   &#42; buttercup&#64;flowers.com: NewsLetter! (1)
</pre>
Subscribe GardenGroup (which includes Petunia) to all changed topics under <code>AllNewsLetters</code> to a depth of 3. Then unsubscribe Petunia from the <code>ManureNewsLetter</code>, which she would normally get as a member of GardenGroup:
<pre class="tml">
   &#42; GardenGroup: AllNewsLetters? (3)
   &#42; petunia&#64;flowers.com: - ManureNewsLetter
</pre>
Subscribe <code>IT:admins</code> (a non-Foswiki group defined by an alternate user mapping) to all changes to Web* topics.
<pre class="tml">
   &#42; &#39;IT:admins&#39; : Web&#42;
</pre>
<p></p>

A user may be listed many times in the WebNotify topic. Where a user has several lines in WebNotify that all match the same topic, they will only be notified about <em>changes</em> in that topic <em>once</em> (though they will still receive individual mails for news topics).
<p></p>

If a <em>group</em> is listed for notification, the group will be recursively expanded to the email addresses of all members.
<p></p>

<div class="foswikihelp"> <strong><img src="/pub/System/DocumentGraphics/warning.png" alt="ALERT!" title="ALERT!" width="16" height="16" /> Warning:</strong> Because an email address is not linked to a user name, there is no way for Foswiki to check access controls for subscribers identified by email addresses. A subscriber identified by an email address alone will only be sent change notifications if the topic they are subscribed to is readable by guest users. You can limit which email addresses can be used in WebNotify, or even block use of emails altogther, using the <code>{MailerContrib}{EmailFilterIn}</code> setting in <code>configure</code>.</div>
<p></p>

<div class="foswikiHelp"> <strong><img src="/pub/System/DocumentGraphics/tip.png" alt="TIP" title="TIP" width="16" height="16" /> Tip:</strong> List names in alphabetical order to make it easier to find the names.</div>
<p class='p'></p>

<strong>Note for System Administrators:</strong> Notification is supported by an add-on to the Foswiki kernel called the MailerContrib. See the <a href="/bin/view/System/MailerContrib">MailerContrib</a> topic for details of how to set up this service.
<p></p>

<strong>Note:</strong> If you prefer a news feed, point your reader to <a href="/bin/view/System/WebRss">WebRss</a> (for RSS 1.0 feeds) or <a href="/bin/view/System/WebAtom">WebAtom</a> (for ATOM 1.0 feeds). Learn more at <a href="/bin/view/System/WebRssBase">WebRssBase</a> and <a href="/bin/view/System/WebAtomBase">WebAtomBase</a>, respectively.
<p></p>

<hr />
<strong>Related topics:</strong> <a href="/bin/view/Main/WikiUsers">WikiUsers</a>, <a href="/bin/view/System/UserRegistration">UserRegistration</a>
<p class='p'></p>

<span id="WebSearch"></span>
<h2 id="WebSearch_45_search_the_site"> WebSearch - search the site </h2>
<p></p>

<a href="/bin/view/System/WebSearch">WebSearch</a> is a flexible search facility, part of the core feature set. <a href="/bin/view/System/WebSearchAdvanced">WebSearchAdvanced</a> offers more options, including: <ul>
<li> topic title or full-text search
</li> <li> regular expressions
</li> <li> query search over form data
</li> <li> search within web or site-wide
</li> <li> index-style A-Z alphabetical listing sorted topic title
</li> <li> many more
</li></ul> 
<p></p>

See also: <a href="/bin/view/System/SearchHelp">SearchHelp</a> for help; <a href="/bin/view/System/Macros">Macros</a> and <a href="/bin/view/System/FormattedSearch">FormattedSearch</a> for including hard-coded searches in text.
<p></p>

<span id="WebChanges"></span>
<h2 id="WebChanges_45_what_39s_new"> WebChanges - what's new </h2>
<p></p>

To check for the most recently edited topics while on-site, use the <a href="/bin/view/System/WebChanges">WebChanges</a> link, usually located in the toolbar. It lists the most recently modified topics, newest first, along with the first couple of lines of the page content.
<p></p>

This is simply a preset <code>SEARCH</code>. The number of topics listed by the <code>limit</code> parameter.:
<pre class="tml">
&#37;SEARCH{ &#34;1&#34; web&#61;&#34;&#37;BASEWEB&#37;&#34; type&#61;&#34;query&#34; nosearch&#61;&#34;on&#34;
  order&#61;&#34;modified&#34; reverse&#61;&#34;on&#34; limit&#61;&#34;50&#34;
}&#37;</pre>
<p></p>

<span id="WebRssAndAtom"></span>
<h2 id="WebRss_and_WebAtom_45_news_feeds_on_recent_changes"> WebRss and WebAtom - news feeds on recent changes </h2>
<p></p>

You can point your news reader at <a href="/bin/view/System/WebRss">WebRss</a> and <a href="/bin/view/System/WebAtom">WebAtom</a> to find out what is new in a web. <a href="/bin/view/System/WebRssBase">WebRssBase</a> and <a href="/bin/view/System/WebAtomBase">WebAtomBase</a> have the details. Like <a href="/bin/view/System/WebChanges">WebChanges</a>, this is based on a <code>%SEARCH{}%</code>.
<p></p>

<span id="WebIndex"></span>
<h2 id="WebIndex_45_list_of_topics"> WebIndex - list of topics </h2>
<p></p>

<a href="/bin/view/System/WebIndex">WebIndex</a> lists all web topics in alphabetical order, with the first couple of lines of text. This is simply a preset <code>SEARCH</code>:
<pre class="tml">
&#37;SEARCH{&#34;1&#34; scope&#61;&#34;topic&#34; type&#61;&#34;query&#34; nosearch&#61;&#34;on&#34; }&#37;</pre>
<p></p>

<span id="WebStatistics"></span>
<h2 id="WebStatistics_45_site_statistics"> WebStatistics - site statistics </h2>
See <a href="/bin/view/System/SiteToolStatistics">SiteToolStatistics</a> for detailed configuration and customization information.
<p class='p'></p>

<h3 id="Introduction">  Introduction </h3>
Statistics of visits to pages in a web can be generated manually or automatically, on a per-web basis. Statistics are compiled as a running total for each month.They include totals for Topic Views, Topic Saves, Attachment Uploads, Most Popular Topics with number of views, and Top Contributors showing total of saves and attachment uploads. Statistics from previous months are saved, and a new row is written to the table at the beginning of each month.
<p></p>
 <ul>
<li> You can create a WebStatistics link using <code><b>%STATISTICSTOPIC%</b></code>
</li></ul> 
<p></p>

Statistics are compiled by a script that processes the Foswiki event log. The script can be run two ways: <ul>
<li> Manually, by an authorized user from a browser URL
</li> <li> Automatically by a shell script, usually run as a <code>cron</code> job
</li></ul> 
<p></p>

<h3 id="Manually_running_statistics">  Manually running statistics </h3>
The following form can be used to run statistics and create the WebStatistics topics for selected or all webs.
<p></p>

Note:  The current user - <a href="/bin/view/Main/WikiGuest">WikiGuest</a> must have access rights to read/write the WebStatistics topics, and if missing, must have authority to create the WebStatistics in the selected webs.
<p></p>

<form name="stats" action="/bin/statistics" method="post" onsubmit="StrikeOne.submit(this)"><input type='hidden' name='validation_key' value='?a8f72a99a37a7be824967c62d7a98b7f' />
	<div id="runStats" class="foswikiFormSteps">
		<div class="foswikiFormStep">
            <h3>Run statistics on a list of one or more webs</h3>
			<div class="col1">
				<p>
                    <input name="webs" class="foswikiInputField" type="text" value="" size="80" /></p>

			</div>
			<div class="col2">
				<p>
					Enter a comma separated list of webnames. Enter a subweb by specifying <code>ParentWeb/SubWeb/</code>  Web names must follow web naming rules and start with an upper case letter.</p>

			</div>
			<div class="foswikiClear"></div>
		</div>
		<div class="foswikiFormStep">
            <h3>Additional Settings</h3>
            <div class="additionalSettings">
				<div class="foswikiFormSteps">
                    <div class="foswikiFormStep">
                        <h3>Autocreate missing WebStatistics</h3>
                        <div class="col1">
                            <p>
                                <input type="checkbox" name="autocreate" value="1" /></p>

                        </div>
                        <div class="col2">
                            <p>
                                Select this option if you want the Statistics script to auto-create the WebStatistics if it is missing. (Note: this operation must be enabled in the configuration).</p>

                        </div>
                        <div class="foswikiClear"></div>
                    </div>
					<div class="foswikiFormStep">
						<h3>Process sub-webs</h3>
						<div class="col1">
							<p>
                                <input type="checkbox" name="subwebs" value="1" /></p>

						</div>
						<div class="col2">
							<p>
								Process any subwebs of the requested webs. If this is not selected, then sub-webs must be explicitly listed in the list of webs.</p>

						</div>
                    </div>
					<div class="foswikiFormStep">
						<h3>Specify date to process</h3>
						<div class="col1">
							<p>
                                <input class="foswikiInputField" type="text" name="logdate" value="" /></p>

						</div>
						<div class="col2">
							<p>
								Specify the date of the logs to process in <code>YYYYMM</code> format. Example: <code>201203</code> to request March 2012.</p>

						</div>
                        <div class="foswikiClear"></div>
                    </div>
				</div>
			</div>
		</div>
		<div class="foswikiFormStep">
			<input type="submit" class="foswikiSubmit" value="Run Statistics" />
		</div>
	</div>
</form>
<p class='p'></p>

<p class='p'></p>

<span id="LogFiles"></span>
<h2 id="Log_Files">  Log Files </h2>
<p></p>

Foswiki generates an event log which is used by the statistics script <ul>
<li> The directory for the log file is defined by the <code><b>{Log}{Dir}</b></code> setting in <a href="/bin/configure">configure</a> <code>Logging and Statistics</code> tab.
</li> <li> The file name is <code>events.log</code> Old events are archived as <code>events.&lt;year&gt;&lt;month&gt;</code>
</li> <li> Example path name: <code>working/logs/events.log</code>
</li> <li> Each access gets logged as: <br />     <code>| &lt;time&gt; | &lt;wikiusername&gt; | &lt;action&gt; | &lt;web&gt;.&lt;topic&gt; | &lt;extra info&gt; | &lt;IP address&gt; |</code>
</li> <li> Example log entry: <br />     <code>| 30 Jul 2021 - 20:49 | <a href="/bin/view/Main/WikiGuest">WikiGuest</a> | view | <a href="/bin/view/System/WebRss">WebRss</a> | | 66.124.232.02 |</code>
</li> <li> By default the following actions are logged:                       <table class="foswikiTable" rules="none">     	<thead>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<th class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> Script </th>			<th class="foswikiTableCol1"> Action name </th>			<th class="foswikiTableCol2 foswikiLastCol"> Extra info </th>		</tr>	</thead>     	<tbody>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> attach </td>			<td class="foswikiTableCol1"> <code>attach</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> when viewing attach screen of previous uploaded attachment: <code>filename</code> </td>		</tr>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> changes </td>			<td class="foswikiTableCol1"> <code>changes</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> &nbsp; </td>		</tr>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> edit </td>			<td class="foswikiTableCol1"> <code>edit</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> when editing non-existing topic: <code>(not exist)</code> </td>		</tr>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> login </td>			<td class="foswikiTableCol1"> <code>login</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> Authentication failure or success </td>		</tr>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> manage </td>			<td class="foswikiTableCol1"> <code>rename</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> when moving topic: <code>moved to Newweb.NewTopic</code> </td>		</tr>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> manage </td>			<td class="foswikiTableCol1"> <code>move</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> when moving attachment: <code>Attachment filename moved to Newweb.NewTopic</code> </td>		</tr>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> manage </td>			<td class="foswikiTableCol1"> <code>renameweb</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> when renaming a web: <code>oldweb moved to newweb</code> </td>		</tr>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> rdiff </td>			<td class="foswikiTableCol1"> <code>rdiff</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> higher and lower revision numbers: <code>4 3</code> </td>		</tr>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> register </td>			<td class="foswikiTableCol1"> <code>regstart</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> WikiUserName, e-Mail address, <a href="/bin/view/System/UserName">UserName</a>: <code>user attempts to register</code> </td>		</tr>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> register </td>			<td class="foswikiTableCol1"> <code>register</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> E-mail address: <code>user successfully registers</code> </td>		</tr>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> register </td>			<td class="foswikiTableCol1"> <code>bulkregister</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> WikiUserName of new, e-mail address, admin ID </td>		</tr>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> save </td>			<td class="foswikiTableCol1"> <code>save</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> when replacing existing revision: <code>repRev 3</code> <br /> when user checks the minor changes box: <code>dontNotify</code> <br /> when user changes attributes to an exising attachment: <code>filename.ext</code> </td>		</tr>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> save </td>			<td class="foswikiTableCol1"> <code>cmd</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> special admin parameter used when saving </td>		</tr>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> search </td>			<td class="foswikiTableCol1"> <code>search</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> search string </td>		</tr>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> upload </td>			<td class="foswikiTableCol1"> <code>upload</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> filename </td>		</tr>		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol"> view </td>			<td class="foswikiTableCol1"> <code>view</code> </td>			<td class="foswikiTableCol2 foswikiLastCol"> when viewing non-existing topic: <code>(not exist)</code> <br /> when viewing previous topic revision: <code>r3</code> </td>		</tr>		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">			<td class="foswikiTableCol0 foswikiSortedAscendingCol foswikiSortedCol foswikiFirstCol foswikiLast"> n/a </td>			<td class="foswikiTableCol1 foswikiLast"> <code>logout</code> </td>			<td class="foswikiTableCol2 foswikiLastCol foswikiLast"> When authentication information is cleared </td>		</tr>	</tbody>     </table>
</li> <li> You can disable the logging (and therefore the reporting) of individual actions using the <code><b>{Log}{Action}</b></code> <span class='foswikiRedFG'>EXPERT</span> setting in <code>configure</code>.
</li></ul> 
<p></p>

<span id="ConfigureEmail"></span>
<h2 id="E_45mail">  E-mail </h2>
<p></p>

See also <a href="/bin/view/System/InstallationGuidePart2#EmailConfig">InstallationGuidePart2</a>
<p></p>

<h3 id="Configuring_outgoing_mail">  Configuring outgoing mail </h3>
<p></p>

Outgoing mail is required for <a href="/bin/view/System/UserRegistration">UserRegistration</a> and for <a class="foswikiCurrentTopicLink" href="#WebNotify">recent changes alert</a>.
<p></p>

The preferred place to configure e-mail is in the <a href="/bin/configure">configure <code>Mail</code> tab</a> tool (<code>LocalSite.cfg</code>). The configure tool fully documents these setting.
<p></p>

The notify e-mail uses the default <code>changes.tmpl</code> template, or a skin if activated by a <a href="/bin/view/System/PreferenceSettings">preference setting</a>.
<p></p>

<code>mailnotify</code> also relies on a hidden file in each <code>data/Web</code> directory: <code>.changes</code> and a file with the Web name (one per web) in the <code>working/work_areas/MailerContrib/</code> directory. Make sure both are writable by your web server process. <code>.changes</code> contains a list of changes;  The file in the <code>working/work_areas/MailerContrib/</code> directorycontains a timestamp of the last time notification was done for the web.Both files are automatically created as needed.
<p></p>

<h4 id="Legacy_and_current_configuration">  Legacy and current configuration </h4>
<p></p>

<div class="foswikiHelp">
<img src="/pub/System/DocumentGraphics/warning.png" alt="ALERT!" title="ALERT!" width="16" height="16" /> <strong>Caution:</strong> Older versions of Foswiki, and especially TWiki migrations might configure e-mail in the <a href="/bin/view/System/PreferenceSettings">preference settings</a> topic.Make sure you delete that setting if you are using a <a href="/bin/view/Main/SitePreferences">SitePreferences</a> topic from a previous release of Foswiki.   <strong>These settings are no longer used and have been removed</strong>.
</div>
<p></p>

<table class="foswikiTable" id="tableSiteTools2" rules="none">
	<thead>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<th class="foswikiTableCol0 foswikiFirstCol"> Parameter </th>
			<th class="foswikiTableCol1"> <a href="/bin/configure">configure</a><br />(Current) </th>
			<th class="foswikiTableCol2"> <a href="/bin/view/System/PreferenceSettings">preference settings</a><br />(Legacy) </th>
			<th class="foswikiTableCol3"> Default </th>
			<th class="foswikiTableCol4 foswikiLastCol"> Description </th>
		</tr>
	</thead>
	<tbody>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Global enable </td>
			<td class="foswikiTableCol1"> <code>{EnableEmail}</code> </td>
			<td class="foswikiTableCol2"> <em>n/a</em> </td>
			<td class="foswikiTableCol3"> <code>enabled</code> </td>
			<td class="foswikiTableCol4 foswikiLastCol"> Globally enable/disable email support. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> Extermal mail program </td>
			<td class="foswikiTableCol1"> <code>{MailProgram}</code> </td>
			<td class="foswikiTableCol2"> <em>n/a</em> </td>
			<td class="foswikiTableCol3"> <code>'/usr/sbin/sendmail -t -oi -oeq'</code> </td>
			<td class="foswikiTableCol4 foswikiLastCol"> E-mail program used when Net:SMTP is unavailable </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Mail relay host </td>
			<td class="foswikiTableCol1"> <code>{SMTP}{MAILHOST}</code> </td>
			<td class="foswikiTableCol2"> <code>SMTPMAILHOST</code> </td>
			<td class="foswikiTableCol3"> <em>not set</em> </td>
			<td class="foswikiTableCol4 foswikiLastCol"> Destination SMTP Server used to receive and relay email. Net::SMTP is disabled if this is not set. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> Mail sending hostname </td>
			<td class="foswikiTableCol1"> <code>{SMTP}{SENDERHOST}</code> </td>
			<td class="foswikiTableCol2"> <code>SMTPSENDERHOST</code> </td>
			<td class="foswikiTableCol3"> <em>not set</em> </td>
			<td class="foswikiTableCol4 foswikiLastCol"> Hostname used to identify sender. Some SMTP configurations will require this. </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> SMTP Password </td>
			<td class="foswikiTableCol1 foswikiLast"> <code>{SMTP}{Password}</code> </td>
			<td class="foswikiTableCol2 foswikiLast"> <em>not supported</em> </td>
			<td class="foswikiTableCol3 foswikiLastCol foswikiLast"> <em>not set</em> </td>
		</tr>
	</tbody></table>
<p></p>

<h3 id="Setting_the_automatic_e_45mail_schedule">  Setting the automatic e-mail schedule </h3>
<p></p>

<strong>For Unix platforms:</strong> Edit the <code>cron</code> table so that <code>mailnotify</code> is called in an interval of your choice. Please consult <code>man crontab</code> for how to modify the table that schedules program execution at certain intervals. Example:
<pre class="bash">
&#37; crontab -e
0 1 &#42; &#42; &#42; (cd /path/to/bin; ./mailnotify -q)</pre>
<p></p>

The above line will run mailnotify nightly at 01:00. The <code>-q</code> switch suppresses all normal output.
<p></p>

<strong>For ISP installations:</strong> Many ISPs don't allow hosted accounts direct cron access, as it's often used for things that can heavily load the server. Workaround scripts are available.
<p></p>

<strong>On Windows:</strong> You can use a scheduled task if you have administrative privileges.
<p></p>

<h2 id="Site_Permissions">  Site Permissions </h2>
<p></p>
 <ul>
<li> <a href="/bin/view/System/AccessControl">AccessControl</a> describes how to restrict read and write access to topics and webs, by users and groups
</li> <li> <a href="/bin/view/System/SitePermissions">SitePermissions</a> lists the permissions settings of the webs on this site
</li></ul> 
<p></p>

<h2 id="Help_with_crontab">  Help with crontab </h2>
<p class='p'>The crontab command is used to schedule commands to be executed periodically.</p>
 <ul>
<li> <a class="interwikiLink" href="https://en.wikipedia.org/wiki/Crontab" title="'Crontab' on 'Wikipedia'">Wikipedia:Crontab</a> - crontab documentation
</li> <li> <span class='externalLink'><a href="http://www.kalab.com/freeware/pycron/pycron.htm">pycron</a></span> - crontab for Windows
</li></ul> 
<p></p>

<hr />
<p></p>

<strong>Related Topics:</strong> <a href="/bin/view/System/AdminDocumentationCategory">AdminDocumentationCategory</a>, <a href="/bin/view/System/AdminToolsCategory">AdminToolsCategory</a></div>
<p class='p'></p>

</div>
<div class="patternInfo">This topic: System<span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/System/Category">Category</a> &gt; <a href="/bin/view/System/AdminDocumentationCategory">AdminDocumentationCategory</a><span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span>SiteTools <br />
Topic revision:  <span class='patternRevInfo'>03 Feb 2016, <a href="/bin/view/Main/UnknownUser">UnknownUser</a></span></div>
</div>
</div>
</div>
</div><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="patternWebBottomBar"><span class="foswikiRight"> <a href="http://foswiki.org/"><img src="/pub/System/ProjectLogos/foswiki-badge.png" height="42" alt="This site is powered by Foswiki" title="This site is powered by Foswiki" /></a></span>Copyright &copy; by the contributing authors. All material on this site is the property of the contributing authors. <br /> Ideas, requests, problems regarding DAMASK? <a href='mailto:damask@mpie.de?subject=DAMASK%20Feedback%20on%20System.SiteTools'>Send feedback</a> </div></div></div>
</div>
</div>
</div>
</div></body></html>