<!DOCTYPE html><html lang="en">
<head>
<title> WysiwygPluginSettings &lt; System &lt; DAMASK</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link rel="icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="alternate" href="https://damask.mpie.de/bin/edit/System/WysiwygPluginSettings?t=1627676152" type="application/x-wiki" title="edit WysiwygPluginSettings" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" />
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/System/WebRss" />
<base href="https://damask.mpie.de/bin/view/System/WysiwygPluginSettings" /><!--[if IE]></base><![endif]-->
<link rel='stylesheet' href='/pub/System/PageOptimizerPlugin/cache/bfb3fc8d04a84f87f8507431dbc855bd.css' class='CLASSIFICATIONPLUGIN::CSS JQUERYPLUGIN::BOOKMAKER JQUERYPLUGIN::BUTTON JQUERYPLUGIN::COMMENT JQUERYPLUGIN::TABLESORTER SMILIESPLUGIN head' media='all' />

<style class='head EXTERNALLINKPLUGIN_CSS' type="text/css" media="all">
.externalLink a:link,
.externalLink a:visited,
.externalLink a:hover {
	background-image:url(/pub/System/ExternalLinkPlugin/diagonal.gif);
	background-repeat:no-repeat;
	background-position:right;
	padding-right:18px;
}
</style>

<style type="text/css" media="all">
		  /* Styles that are set using variables */
		  .patternWebIndicator,
		  .patternWebIndicator a {
					 background-color:none;
		  }
		  #patternTopBarContents { background-image:url(https://damask.mpie.de/pub/System/ProjectLogos/DAMASK.png); background-repeat:repeat-x;}

.patternBookView {
	border-color:#B9DAFF;
}
.patternPreviewPage #patternMain {
	/* uncomment to set the preview image */
	/*background-image:url("/pub/System/PreviewBackground/preview2bg.gif");*/
}
</style>

<script class='script JQUERYPLUGIN' src='/pub/System/JQueryPlugin/jquery-2.2.4.js'></script>
<script class='script JQUERYPLUGIN::BROWSER' src='/pub/System/JQueryPlugin/plugins/browser/jquery.browser.js?version=0.1.0'></script>
<script class='script JQUERYPLUGIN::MIGRATE' src='/pub/System/JQueryPlugin/plugins/migrate/jquery.migrate.js?version=3.2.1'></script>
<script class='script JQUERYPLUGIN::LIVEQUERY' src='/pub/System/JQueryPlugin/plugins/livequery/jquery.livequery.js?version=1.3.6'></script>
<script class='script JQUERYPLUGIN::FOSWIKI' src='/pub/System/JQueryPlugin/plugins/foswiki/jquery.foswiki.js?version=2.14'></script>
<script class='script JQUERYPLUGIN::METADATA' src='/pub/System/JQueryPlugin/plugins/metadata/jquery.metadata.js?version=2.1ef2bb44c86f5d0e98d55'></script>
<script class='script JQUERYPLUGIN::BOOKMAKER' src='/pub/System/BookmakerPlugin/bookmaker.js?version=1.1.0'></script>
<script class='script JavascriptFiles/foswikiString' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiString.js"></script>
<script class='script JavascriptFiles/foswikiForm' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiForm.js"></script>
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "SCRIPTURLPATHS" : {
      "view" : "/bin/view"
   },
   "COOKIEREALM" : "",
   "SCRIPTSUFFIX" : "",
   "SCRIPTURLPATH" : "/bin",
   "SERVERTIME" : "30 Jul 2021 - 22:15",
   "WIKIUSERNAME" : "Main.WikiGuest",
   "PUBURL" : "https://damask.mpie.de/pub",
   "USERSWEB" : "Main",
   "SKIN" : "damask,famfamfam,pattern",
   "SYSTEMWEB" : "System",
   "WIKINAME" : "WikiGuest",
   "WEB" : "System",
   "USERNAME" : "guest",
   "PUBURLPATH" : "/pub",
   "URLHOST" : "https://damask.mpie.de",
   "TOPIC" : "WysiwygPluginSettings",
   "SCRIPTURL" : "https://damask.mpie.de/bin"
}
</script>
<script class='script JQTABLEPLUGIN::SORT' type='text/javascript'>
jQuery.extend(foswiki.preferences, {
  'JQTablePlugin.sort' : 'all'
});
</script>
<script class='script JavascriptFiles/foswikiPref' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiPref.js"></script>
<script class='script JavascriptFiles/strikeone' type="text/javascript" src="/pub/System/JavascriptFiles/strikeone.js"></script>
<script class='script JQUERYPLUGIN::CHILI' src='/pub/System/JQueryPlugin/plugins/chili/jquery.chili.js?version=2.2_1'></script>
<script class='script JQUERYPLUGIN::CHILI' src='/pub/System/JQueryPlugin/plugins/chili/jquery.chili.init.js?version=2.2_1'></script>
<script class='script PatternSkin/pattern' type="text/javascript" src="/pub/System/PatternSkin/pattern.js"></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/jquery.tablesorter.js?version=2.0.3'></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/tables.js?version=2.0.3'></script>
<script class='script JQUERYPLUGIN::UPLOADER::META foswikiPreferences' type='text/json'>{"TopicInteractionPlugin":{"attachFileSizeLimit":"262144","officeSuite":""}}</script>
<script class='script JQUERYPLUGIN::JEDITABLE' src='/pub/System/JEditableContrib/jquery.jeditable.js?version=06 Feb 2017'></script>
<script class='script JQUERYPLUGIN::BUTTON' src='/pub/System/JQueryPlugin/plugins/button/jquery.button.init.js?version=2.0'></script>
<script class='script JQUERYPLUGIN::COMMENT' src='/pub/System/CommentPlugin/comment.js?version=3.0'></script>

<link rel="stylesheet" href="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.css">
<script src="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.js"></script>
</head> 
<body class="foswikiNoJs patternViewPage patternPrintPage"><div id="bookmaker">
  <img src='/pub/System/FamFamFamSilkIcons/book_open.png' class='foswikiIcon jqIcon book_open'  alt='book_open' /> Bookmaker for <a href="/bin/view/Sandbox/ExampleBook">ExampleBook</a>
  <table width="100%" cellpadding="0" cellspacing="0" style="min-height: 25px">
	 <tr>
		<td align="left" width="5%">
	<a id='bookmaker_change' class='jqButton ' href='#' title='Open a different book' ><span class='jqButtonText'>Change book</span></a>
	<div id="new_book" style="display:none">
	  <form method="POST" action="/bin/view/System/WysiwygPluginSettings" onsubmit="StrikeOne.submit(this)"><input type='hidden' name='validation_key' value='?1a344f9bdad2b23eda71d87a547bc6b0' />
	    <input type="text" id="book_title" name="open_bookmaker" title="Enter the web.topic name of the book topic, and hit Enter" value="Sandbox.ExampleBook" />
	  </form>
	</div>
		 </td>
		<td align="left">
	<a id='bookmaker_close' class='jqButton ' href='/bin/view/System/WysiwygPluginSettings?close_bookmaker=1' title='Close the bookmaker interface' ><span class='jqButtonText'>Close bookmaker</span></a>
		</td>
		<td align="right">
	<form method="POST" onsubmit="StrikeOne.submit(this)"><input type='hidden' name='validation_key' value='?cd3dfadfcec938a2fd3ad7d7bcefaa30' />
	  <a id='bookmaker_add_button' class='jqButton bookmaker_button bookmaker_action bookmaker_active' href='https://damask.mpie.de/bin/rest/BookmakerPlugin/add?topic=System.WysiwygPluginSettings' title='Add the current topic to the book' ><span class='jqButtonText'>Add to book</span></a>
	  <a id='bookmaker_remove_button' class='jqButton bookmaker_button bookmaker_action ' href='https://damask.mpie.de/bin/rest/BookmakerPlugin/remove?topic=System.WysiwygPluginSettings' title='Remove the current topic from the book' ><span class='jqButtonText'>Remove from book</span></a>
	</form>
		</td>
		<td>
	<form method="GET">
	  <a class="bookmaker_button" id="bookmaker_expand" href="https://damask.mpie.de/bin/rest/BookmakerPlugin/list" title="Click to expand the book">
	  <img src='/pub/System/FamFamFamSilkIcons/application_side_expand.png' class='foswikiIcon jqIcon application_side_expand'  alt='application_side_expand' /></a>
	</form>
		</td>
	 </tr>
  </table>
  <div id="bookmaker_more">
	 <em>You can change the order/nesting of topics using drag and drop</em> <br />
	 <a id="bookmaker_contract"><img src='/pub/System/FamFamFamSilkIcons/application_side_contract.png' class='foswikiIcon jqIcon application_side_contract'  alt='application_side_contract' /></a>
	 <div id="book_tree">
	 </div>
  </div>
</div>
<span id="PageTop"></span><div class="foswikiPage"><div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter" class="clear">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="foswikiTopic"> <h1 id="Settings_for_WysiwygPlugin_that_are_common_to_most_editor_integrations">  Settings for <a href="/bin/view/System/WysiwygPlugin">WysiwygPlugin</a> that are common to most editor integrations </h1>
<p></p>

<h4 id="WYSIWYG_EXCLUDE_45_Prevent_WYSIWYG_editing">  WYSIWYG_EXCLUDE - Prevent <a href="/bin/view/System/WYSIWYG">WYSIWYG</a> editing  </h4>
The <strong>global</strong> <a href="/bin/view/System/PreferenceSettings">preference setting</a> <code>WYSIWYG_EXCLUDE</code> can be set to make the plugin sensitive to what is in a topic, before allowing it to be edited. The comma separated list to fall back to text edit can include: <ul>
<li> <code>html</code> - HTML tags (e.g. <code>&lt;div&gt;</code>, not including &lt;br&gt;), or 
</li> <li> <code>macros</code> - simple macros (e.g. <code>%VAR%</code>) or 
</li> <li> <code>calls</code> - macros with parameters e.g. <code>%MACRO{...}%</code>
</li> <li> <code>pre</code> blocks (<code>&lt;pre&gt;</code>)
</li> <li> HTML <code>comments</code> (<code>&lt;!--</code> ... <code>--&gt;</code>)
</li> <li> <code>script</code> = inline HTML Script tags - <em>default</em>
</li> <li> <code>style</code> = inline Css style tags - <em>default</em>
</li> <li> <code>table</code> = inline html tables (=&lt;table ..&gt;.  TML tables are not excluded)
</li></ul> 
If the plugin detects an excluded construct in the topic, it will refuse to allow the edit and will redirect to the default editor.
<h5 id="WYSIWYG_EDITABLE_CALLS_45_Exceptions_to_WYSIWYG_EXCLUDE">  WYSIWYG_EDITABLE_CALLS - Exceptions to WYSIWYG_EXCLUDE </h5>
If you excluded <code>calls</code> in <code>WYSIWYG_EXCLUDE</code>, you can still define a subset of macros that do <strong>not</strong> block edits. this is done in the <strong>global</strong> <a href="/bin/view/System/PreferenceSettings">preference setting</a> <code>WYSIWYG_EDITABLE_CALLS</code>, which should be a list of macro names separated by vertical bars, with no spaces, e.g: <code>* Set WYSIWYG_EDITABLE_CALLS = COMMENT|CALENDAR|INCLUDE</code>
<p></p>

You should set <code>WYSIWYG_EXCLUDE</code> and <code>WYSIWYG_EDITABLE_CALLS</code> in <a href="/bin/view/Main/SitePreferences">SitePreferences</a>, or in <a href="/bin/view/System/WebPreferences">WebPreferences</a> for each web.
<p></p>

<h4 id="WYSIWYGPLUGIN_PROTECT_EXISTING_TAGS_45_Protect_specific_tags_originally_in_the_topic_text">  WYSIWYGPLUGIN_PROTECT_EXISTING_TAGS - Protect specific tags originally in the topic text </h4>
The <code>WYSIWYGPLUGIN_PROTECT_EXISTING_TAGS</code> preference tells the translator 
that certain HTML tags which were originally in the topic text should <em>remain</em> as HTML tags;
the translator will not try to convert them to TML.  This protects the tags
themselves, and not the contents enclosed between the <code>&lt;tag&gt;</code> and <code>&lt;/tag&gt;</code>
<p></p>

The default setting for this preference is defined within the plugin.
It corresponds to <code>div, span</code>.
<p></p>

This feature may be disabled by setting the preference to a single comma.
This does <em>not</em> guarantee that HTML markup will be removed; the conversion
of HTML tags to TML markup remains subject to the other controls provided
by the WysiwygPlugin, including the <code>WYSIWYGPLUGIN_STICKYBITS</code> and
<code>WYSIWYGPLUGIN_IGNOREATTRS</code> preferences,
<code>&lt;sticky&gt;</code> blocks, <code>&lt;literal&gt;</code> blocks and the rules applied 
to tables and lists.
<p></p>

<h4 id="WYSIWYGPLUGIN_PROTECT_TAG_BLOCKS_45_Protect_specific_tag_blocks_originally_in_the_topic_text">  WYSIWYGPLUGIN_PROTECT_TAG_BLOCKS - Protect specific tag blocks originally in the topic text </h4>
The <code>WYSIWYGPLUGIN_PROTECT_TAG_BLOCKS</code> preference tells the translator
that certain HTML tag blocks which were originally in the topic text should <em>remain</em> as HTML blocks;
the translator will not try to convert them to TML.
<p></p>

The default setting for this preference is defined within the plugin.
It corresponds to <code>script, style</code>.
<p></p>

As an example, individual html tables can be protected by surrounding them
with =&lt;sticky&gt; .. &lt;/sticky&gt; block.  However,if you want to have all
=&lt;table&gt; markup preserved as entered into topics by default, rather than subject to
<a href="/bin/view/System/WYSIWYG">WYSIWYG</a> editing,  add <code>table</code> to this list, and =&lt;table&gt; markup will become
automatically sticky.
<p class='p'>This feature may be disabled by setting the preference to a single comma.</p>

<h4 id="WYSIWYGPLUGIN_STICKYBITS_45_Protect_tags_based_upon_their_arguments">  WYSIWYGPLUGIN_STICKYBITS - Protect tags based upon their arguments </h4>
You can define the global preference <code>WYSIWYGPLUGIN_STICKYBITS</code> to stop the
plugin from ever trying to convert specific HTML tags into
TML when certain specific attributes are present on the tag. This is most
useful when you have styling or alignment information in tags that must be
preserved.
<p></p>

This <a href="/bin/view/System/PreferenceSettings">preference setting</a> is used to tell the translator which attributes, when present
on a tag, make it "stick" i.e. block conversion back to TML. <blockquote>For example, setting it to
<code>table=background,lang;tr=valign</code> will stop the translator from trying to
convert any <code>table</code> tag that has <code>background</code> or <code>lang</code> attributes, and any
<code>tr</code> tag that has a <code>valign</code> attribute back to Foswiki <code>| table | column |</code>
markup (regardless of where that <code>table</code> tag comes from).</blockquote>
<p class='p'>This setting is used only after the page has been processed by the editor.  If
the editor does not support a particular tag or attribute and the editor corrupts the
tag, this setting will not be helpful.  It is only used to prevent
an HTML tag from being converted back to TML.</p>

Format of the setting is <code>tag1=attrib,attrib;tag2=attrib</code>.  Attributes delimited by
comma, and tags delimited by semicolon. <ul>
<li> The left side of the equal sign is the tag. 
</li> <li> The right side of the equal sign is a comma delimited list of attributes to be matched.  
</li></ul> 
If a matching tag is found, that matches any of the attributes listed,
the tag will not be converted back to TML.
You can use perl regular expressions to match tag and attribute names, so
<code>.*=id,on.*</code> will ensure that any tag with an id or <code>on*</code> event handler is kept as
HTML.
<p></p>

Note:  HTML has been gradually deprecating HTML attributes, replacing
them with equivalent styles.  For example, the table, row and cell background
color attribute: <code>bgcolor="#123456"</code> has been deprecated, replaced with <code>style="background-color: #123456;"</code>
A limited subset of tags ( <code>table, th, tr, td</code> ) will match against both the
attributes and the style components.  Styles have been added to the default
setting.
<p></p>

The default setting for this preference are hard coded in the plugin.  If you
wish to change the settings, the following list is the default setting coded
in the plugin:
<pre class="tml">
   * Set WYSIWYGPLUGIN_STICKYBITS = 
        (?!IMG).*=id,lang,title,dir,on.*;
        A=accesskey,coords,shape,target;
        BDO=dir;
        BR=clear;
        COL=char,charoff,span,valign,width;
        COLGROUP=align,char,charoff,span,valign,width;
        DIR=compact;
        DIV=align,style;
        DL=compact;
        FONT=size,face;
        H[0-9]=align;
        HR=align,noshade,size,width;
        LEGEND=accesskey,align;
        LI=value;
        OL=compact,start,type;
        P=align;
        PARAM=name,type,value,valuetype;
        PRE=width;
        Q=cite;
        TABLE=align,bgcolor,.*?background-color:.*,frame,rules,summary,width;
        TBODY=align,char,charoff,valign;
        TD=abbr,align,axis,bgcolor,.*?background-color:.*,.*?border-color:.*,char,charoff,headers,height,nowrap,rowspan,scope,valign,width;
        TFOOT=align,char,charoff,valign;
        TH=abbr,align,axis,bgcolor,.*?background-color:.*,char,charoff,height,nowrap,rowspan,scope,valign,width,headers;
        THEAD=align,char,charoff,valign;
        TR=bgcolor,.*?background-color:.*,char,charoff,valign;
        UL=compact,type

</pre><!-- 
<p class='p'>(?!IMG).*=id,lang,title,dir,on.*;
        A=accesskey,coords,shape,target;
        BDO=dir;
        BR=clear;
        COL=char,charoff,span,valign,width;
        COLGROUP=align,char,charoff,span,valign,width;
        DIR=compact;
        DIV=align,style;
        DL=compact;
        FONT=size,face;
        H[0-9]=align;
        HR=align,noshade,size,width;
        LEGEND=accesskey,align;
        LI=value;
        OL=compact,start,type;
        P=align;
        PARAM=name,type,value,valuetype;
        PRE=width;
        Q=cite;
        TABLE=align,bgcolor,.*?background-color:.*,frame,rules,summary,width;
        TBODY=align,char,charoff,valign;
        TD=abbr,align,axis,bgcolor,.*?background-color:.*,.*?border-color:.*,char,charoff,headers,height,nowrap,rowspan,scope,valign,width;
        TFOOT=align,char,charoff,valign;
        TH=abbr,align,axis,bgcolor,.*?background-color:.*,char,charoff,height,nowrap,rowspan,scope,valign,width,headers;
        THEAD=align,char,charoff,valign;
        TR=bgcolor,.*?background-color:.*,char,charoff,valign;
        UL=compact,type</p>

-->
<p></p>

If you edit using the plain-text editor, you can use the &lt;sticky&gt;..&lt;/sticky&gt; tags to delimit HTML (or TML) that you do <strong>not</strong> want to be <a href="/bin/view/System/WYSIWYG">WYSIWYG</a> edited.
<p></p>

<h4 id="WYSIWYGPLUGIN_IGNOREATTRS_45_Ignore_tag_attributes_when_deciding_whether_to_keep_a_tag_or_not_when_converting_HTML_to_TML._This_is_most_useful_when_you">  WYSIWYGPLUGIN_IGNOREATTRS - Ignore tag attributes when deciding whether to keep a tag or not when converting HTML to TML. This is most useful when you </h4>
have specific styling that you want to make sure you strip off.
<p></p>

This preference takes the same format as <code>WYSIWYGPLUGIN_STICKYBITS</code>. It
specifies tags and their attributes that are to be ignored when making the
decision whether to keep the tag or not. For example, a <code>&lt;font face="Open Sans"&gt;</code> tag will normally be maintained in the TML. However setting
<code>WYSIWYGPLUGIN_IGNOREATTRS</code> to <code>font=face</code> will result in it being removed.
<p></p>

By default <code>WYSIWYGPLUGIN_IGNOREATTRS</code> is empty. <code>WYSIWYGPLUGIN_STICKYBITS</code>
takes precedence over this setting.</div>
<p class='p'></p>

</div>
<div class="patternInfo">This topic: System<span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/System/Category">Category</a> &gt; <a href="/bin/view/System/AdminDocumentationCategory">AdminDocumentationCategory</a> &gt; <a href="/bin/view/System/Plugins">Plugins</a> &gt; <a href="/bin/view/System/WysiwygPlugin">WysiwygPlugin</a><span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span>WysiwygPluginSettings <br />
Topic revision:  <span class='patternRevInfo'>22 Jan 2018, <a href="/bin/view/Main/UnknownUser">UnknownUser</a></span></div>
</div>
</div>
</div>
</div><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="patternWebBottomBar"><span class="foswikiRight"> <a href="http://foswiki.org/"><img src="/pub/System/ProjectLogos/foswiki-badge.png" height="42" alt="This site is powered by Foswiki" title="This site is powered by Foswiki" /></a></span>Copyright &copy; by the contributing authors. All material on this site is the property of the contributing authors. <br /> Ideas, requests, problems regarding DAMASK? <a href='mailto:damask@mpie.de?subject=DAMASK%20Feedback%20on%20System.WysiwygPluginSettings'>Send feedback</a> </div></div></div>
</div>
</div>
</div>
</div></body></html>