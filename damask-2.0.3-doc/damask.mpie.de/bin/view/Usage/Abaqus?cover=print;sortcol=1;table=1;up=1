<!DOCTYPE html><html lang="en">
<head>
<title> Abaqus &lt; Usage &lt; DAMASK</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link rel="icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/pub/System/ProjectLogos/favicon-damask.ico" type="image/x-icon" />
<link rel="alternate" href="https://damask.mpie.de/bin/edit/Usage/Abaqus?t=1627666506" type="application/x-wiki" title="edit Abaqus" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" />
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Usage/WebRss" />
<base href="https://damask.mpie.de/bin/view/Usage/Abaqus" /><!--[if IE]></base><![endif]-->
<link rel='stylesheet' href='/pub/System/PageOptimizerPlugin/cache/67dddfe55874921362aede6c702d5591.css' class='CLASSIFICATIONPLUGIN::CSS JQUERYPLUGIN::COMMENT JQUERYPLUGIN::TABLESORTER SMILIESPLUGIN head' media='all' />

<style class='head TABLEPLUGIN_default' type="text/css" media="all">
body .foswikiTable {border-width:1px}
body .foswikiTable .tableSortIcon img {padding-left:.3em; vertical-align:text-bottom}
body .foswikiTable td {border-style:solid none; vertical-align:top}
body .foswikiTable th {border-style:none solid; vertical-align:top; background-color:#d6d3cf; color:#000000}
body .foswikiTable th a:link {color:#000000}
body .foswikiTable th a:visited {color:#000000}
body .foswikiTable th a:hover {color:#000000; background-color:#d6d3cf}
body .foswikiTable th.foswikiSortedCol {background-color:#c4c1ba}
body .foswikiTable tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td.foswikiSortedCol {background-color:#f0f0ee}
</style>
<style class='head EXTERNALLINKPLUGIN_CSS' type="text/css" media="all">
.externalLink a:link,
.externalLink a:visited,
.externalLink a:hover {
	background-image:url(/pub/System/ExternalLinkPlugin/diagonal.gif);
	background-repeat:no-repeat;
	background-position:right;
	padding-right:18px;
}
</style>

<style type="text/css" media="all">
		  /* Styles that are set using variables */
		  .patternWebIndicator,
		  .patternWebIndicator a {
					 background-color:none;
		  }
		  #patternTopBarContents { background-image:url(https://damask.mpie.de/pub/System/ProjectLogos/DAMASK.png); background-repeat:repeat-x;}

.patternBookView {
	border-color:#efefef;
}
.patternPreviewPage #patternMain {
	/* uncomment to set the preview image */
	/*background-image:url("/pub/System/PreviewBackground/preview2bg.gif");*/
}
</style>

<script class='script JQUERYPLUGIN' src='/pub/System/JQueryPlugin/jquery-2.2.4.js'></script>
<script class='script JQUERYPLUGIN::BROWSER' src='/pub/System/JQueryPlugin/plugins/browser/jquery.browser.js?version=0.1.0'></script>
<script class='script JQUERYPLUGIN::MIGRATE' src='/pub/System/JQueryPlugin/plugins/migrate/jquery.migrate.js?version=3.2.1'></script>
<script class='script JQUERYPLUGIN::LIVEQUERY' src='/pub/System/JQueryPlugin/plugins/livequery/jquery.livequery.js?version=1.3.6'></script>
<script class='script JQUERYPLUGIN::FOSWIKI' src='/pub/System/JQueryPlugin/plugins/foswiki/jquery.foswiki.js?version=2.14'></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/jquery.tablesorter.js?version=2.0.3'></script>
<script class='script JQUERYPLUGIN::TABLESORTER' src='/pub/System/JQTablePlugin/tables.js?version=2.0.3'></script>
<script class='script JQUERYPLUGIN::COMMENT' src='/pub/System/CommentPlugin/comment.js?version=3.0'></script>
<script class='script JavascriptFiles/strikeone' type="text/javascript" src="/pub/System/JavascriptFiles/strikeone.js"></script>
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "PUBURL" : "https://damask.mpie.de/pub",
   "WIKIUSERNAME" : "Main.WikiGuest",
   "SCRIPTSUFFIX" : "",
   "USERSWEB" : "Main",
   "SCRIPTURL" : "https://damask.mpie.de/bin",
   "TOPIC" : "Abaqus",
   "URLHOST" : "https://damask.mpie.de",
   "WIKINAME" : "WikiGuest",
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "SKIN" : "damask,famfamfam,pattern",
   "SCRIPTURLPATHS" : {
      "view" : "/bin/view"
   },
   "SCRIPTURLPATH" : "/bin",
   "COOKIEREALM" : "",
   "WEB" : "Usage",
   "PUBURLPATH" : "/pub",
   "SYSTEMWEB" : "System",
   "USERNAME" : "guest",
   "SERVERTIME" : "30 Jul 2021 - 19:35"
}
</script>
<script class='script JQUERYPLUGIN::UPLOADER::META foswikiPreferences' type='text/json'>{"TopicInteractionPlugin":{"attachFileSizeLimit":"262144","officeSuite":""}}</script>
<script class='script JavascriptFiles/foswikiString' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiString.js"></script>
<script class='script JavascriptFiles/foswikiForm' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiForm.js"></script>
<script class='script JQUERYPLUGIN::JEDITABLE' src='/pub/System/JEditableContrib/jquery.jeditable.js?version=06 Feb 2017'></script>
<script class='script JavascriptFiles/foswikiPref' type="text/javascript" src="/pub/System/JavascriptFiles/foswikiPref.js"></script>
<script class='script JQTABLEPLUGIN::SORT' type='text/javascript'>
jQuery.extend(foswiki.preferences, {
  'JQTablePlugin.sort' : 'all'
});
</script>
<script class='script PatternSkin/pattern' type="text/javascript" src="/pub/System/PatternSkin/pattern.js"></script>

<link rel="stylesheet" href="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.css">
<script src="https://damask.mpie.de/pub/x3dom-1.7.1/x3dom.js"></script>
</head> 
<body class="foswikiNoJs patternViewPage patternPrintPage">
<span id="PageTop"></span><div class="foswikiPage"><div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter" class="clear">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="foswikiTopic"> <h1 id="A_3._Abaqus_standard"> <A name="Section_3."></A>3.  Abaqus standard </h1>
<span id="TableOfContents"></span>
<div class="foswikiToc" id="foswikiTOC"> <ul>
<li> <a href="?cover=print;sortcol=1;table=1;up=1#Preamble"> Preamble </a>
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#Deprecation_warning"> Deprecation warning </a>
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#Building_the_model"> Building the model </a> <ul>
<li> <a href="?cover=print;sortcol=1;table=1;up=1#Using_CAE"> Using CAE </a> <ul>
<li> <a href="?cover=print;sortcol=1;table=1;up=1#Material_definition"> Material definition </a>
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#Solution_dependent_state_variables_40SDVs_41"> Solution dependent state variables (SDVs) </a> <ul>
<li> <a href="?cover=print;sortcol=1;table=1;up=1#abq_addUserOutput"> abq_addUserOutput </a>
</li></ul> 
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#Additional_settings"> Additional settings </a>
</li></ul> 
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#With_text_editor_or_using_other_tools"> With text editor or using other tools </a> <ul>
<li> <a href="?cover=print;sortcol=1;table=1;up=1#General_Abaqus_input_file_HowTo"> General Abaqus input file HowTo </a>
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#DAMASK_Abaqus_input_file_HowTo"> DAMASK Abaqus input file HowTo </a>
</li></ul> 
</li></ul> 
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#Starting_the_simulation"> Starting the simulation </a>
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#Parallelization"> Parallelization </a> <ul>
<li> <a href="?cover=print;sortcol=1;table=1;up=1#Internally_using_OpenMP"> Internally using OpenMP </a>
</li></ul> 
</li> <li> <a href="?cover=print;sortcol=1;table=1;up=1#Mininmal_Example"> Mininmal Example </a>
</li></ul> 
</div>
<p></p>

<hr />
<h2 id="Preamble">  Preamble </h2>
Read the <a href="/bin/view/Usage/GeneralUsage">General Usage</a> section&mdash;it is relevant for use with Abaqus as well.
<p></p>

Menu items are printed <strong>Bold</strong>.
<p></p>

<hr /><span style="float: right;"><a class="foswikiCurrentTopicLink" href="#TableOfContents"><span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/parent_gray.png' width='16' height='16' alt='parent_gray' /></span></a></span>
<h2 id="Deprecation_warning">  Deprecation warning </h2>
DAMASK 2.0.3 will be the last version of DAMASK that supports Abaqus.
We recommend new users not to start using DAMASK with Abaqus.
<p></p>

<hr /><span style="float: right;"><a class="foswikiCurrentTopicLink" href="#TableOfContents"><span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/parent_gray.png' width='16' height='16' alt='parent_gray' /></span></a></span>
<span id="BuildingModel"></span>
<h2 id="Building_the_model">  Building the model </h2>
Abaqus generally allows you to create your model by two methods, each having their advantages / disadvantages
<table class="foswikiTable" rules="none">
	<thead>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<th class="foswikiTableCol0 foswikiFirstCol"> Method </th>
			<th class="foswikiTableCol1 foswikiSortedDescendingCol foswikiSortedCol"> Advantage </th>
			<th class="foswikiTableCol2 foswikiLastCol"> Disadvantage </th>
		</tr>
	</thead>
	<tbody>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> CAE </td>
			<td class="foswikiTableCol1 foswikiSortedDescendingCol foswikiSortedCol"> GUI interface; design of complex shapes </td>
			<td class="foswikiTableCol2 foswikiLastCol"> fewer functions </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> Text editor, etc. </td>
			<td class="foswikiTableCol1 foswikiSortedDescendingCol foswikiSortedCol foswikiLast"> efficient; allows for parameterized input (easy case studies: what happens if one scales down by factor); good for regular meshes </td>
			<td class="foswikiTableCol2 foswikiLastCol foswikiLast"> you have to think; cumbersome in 3D </td>
		</tr>
	</tbody></table>
<p class='p'>Next to the text editor, many programs exist that output Abaqus.inp files.
DAMASK places additional requirements that restrict the use of some of the efficient routines that the text editor allows.</p>

<span id="UsingCAE"></span>
<h3 id="Using_CAE">  Using CAE </h3>
<p class='p'>Set up your model as you are used to.
There are only a few points that are specific to DAMASK as outlined below.</p>

<span id="MaterialDefinition"></span>
<h4 id="Material_definition">  Material definition </h4>
<p></p>

In the <strong>Material Manager</strong> choose <strong>Create...</strong> &gt; <strong>General</strong> &gt; <strong>User Material</strong>.
Check the unsymmetric option.
Select the material behavior as specified in the file <span class='foswikiMaroonFG'>material.config</span> by specifying the first two <strong>Mechanical Constants</strong>:
<p></p>
 <ul>
<li> Constant 1 selects the homogenization scheme to be used.
</li> <li> Constant 2 selects the microstructure.
</li></ul> 
You can define as many user materials as you want (need).
Assign the materials to the respective elements (sections).
<p></p>

<span id="StateVariables"></span>
<h4 id="Solution_dependent_state_variables_40SDVs_41">  Solution dependent state variables (SDVs) </h4>
<p></p>

For user-defined output you have to specify the correct numbers of SDVs.
These are specified in <strong>Edit Material</strong> &gt; <strong>General</strong> &gt; <strong>Depvar</strong>.
Specify the number of solution-dependent state variables.
The easiest way to find the correct number is to use the <span class='foswikiMaroonFG'>debug.config</span> file to set <code>homogenization basic</code>, start the simulation and kill it right after initialization.
You can then find the number to use specified in the <span class='foswikiMaroonFG'><em>jobname</em>.dat</span> file as &raquo;maxSizePostResults&laquo;.
However, there is an even more elegant way, namely:
<p></p>

<h5 id="abq_addUserOutput">  abq_addUserOutput </h5>
<p class='p'>The script abq_addUserOutput can be used to automatically add user defined output to the input file:</p>

<pre>
> abq_addUserOutput <em>inputfile.inp</em>
</pre>
<p></p>

Optional parameters can be used to specify which exact information to use, see <a href="/bin/view/Documentation/AbqAddUserOutput">abq_addUserOutput</a>.
<p></p>

<span id="AdditionalSettings"></span>
<h4 id="Additional_settings">  Additional settings </h4>
<p></p>

In the <strong>Step Manager</strong> set <strong>Nlgeom ON</strong> for all steps.
<p></p>

For all temperature dependent constitutive models you have to set the temperature.
This can be done as <strong>Predefined Field</strong>.
This even applies when you are doing a purely mechanical simulation!
<p></p>

As DAMASK effectively only uses every second iteration you might want to change the maximum number of iterations accordingly.
You can do this in the <strong>Step Module</strong> in the menu <strong>Other</strong> and choose <strong>General Solution Controls</strong> &gt; <strong>Manager...</strong>.
In the new window choose the 1st step and <strong>Edit...</strong>.
In the <strong>General Solution Controls Editor</strong> switch to the tab <strong>Time Incrementation</strong> and pick the first subtab called <strong>More</strong>, then change the value for I<sub>C</sub>.
<p></p>

Also in the <strong>Step Module</strong>, you can choose to output the SDVs via the <strong>Output</strong> &gt; <strong>Field Output</strong> menu.
<p></p>

In the <strong>Job Manager</strong> &gt; <strong>Create...</strong> specify the <strong>User subroutine file</strong> (<span class='foswikiMaroonFG'>DAMASK_abaqus.f</span>) in the <strong>General</strong> tab if you did not compile it into a library (see section <a class="foswikiCurrentTopicLink" href="#StartingSimulation">Starting the simulation</a>).
<p class='p'>You may have to modify the extension of the subroutine file from .f to .for, if the operating environment is Windows.</p>

<span id="TextEditor"></span>
<h3 id="With_text_editor_or_using_other_tools">  With text editor or using other tools </h3>
<p class='p'>You can certainly also write the input file by hand or use any other preprocessing tool to create it.
In any case, you have to make sure to use/activate all the features/options mentioned in the CAE section.
Additionally, you have to take care that all keyword value pairs (KEYWORD=VALUE) are written without spaces around the equal sign in accordance with the &raquo;Abaqus Keywords Reference Manual&laquo;.
While the Abaqus input parser accepts this, the DAMASK input file parser does not allow spaces in this context!</p>

<h4 id="General_Abaqus_input_file_HowTo">  General Abaqus input file HowTo </h4>
This tutorial only works with quite recent DAMASK versions.
<p class='p'>Without the use of DAMASK, Abaqus input files might look like in the following tutorial.
Lines that start with "**" are comments and are ignored by Abaqus; lines that start with "*" are commands; lines that are entirely empty are FORBIDDEN.</p>

First, give your problem a discription and define parameters.
The usage of parameters are a benefit compared to the GUI usage, which does not have this feature.
Parameters can only be used as floating point numbers: they define lengths, loads...; they cannot be used to identify node or element numbers.
Parameters can be defined as function of other parameters.
<pre>
*heading
My First Abaqus Input File
** PARAMETERS EASE YOUR WORK
*parameter
H_SIZE = 3.0
H_SIZE2 = H_SIZE/2.0
DISPL = H_SIZE/100000
</pre>
Create 18 nodes for 4 3D elements, i.e. 3x3 nodes in two layers.
Here the above parameters are used.
Please note that DAMASK needs 3D coordinates for the FEM nodes and DAMASK needs 3D elements.
Nodes are defined as "name, x, y, z".
All the nodes belong to the group "N_AREA" in this example.
<pre>
**CREATE THE EIGHTEEN NODES
*node, nset=N_AREA
1, 0.0,        0.0, 0.0
2, &lt;H_SIZE2&gt;,  0.0, 0.0
3, &lt;H_SIZE&gt;,   0.0, 0.0
4, 0.0,        0.5, 0.0
5, 2.0,        0.5, 0.0
6, &lt;H_SIZE&gt;,   0.5, 0.0
7, 0.0,        1.0, 0.0
8, &lt;H_SIZE2&gt;,  1.0, 0.0
9, &lt;H_SIZE&gt;,   1.0, 0.0
10, 0.0,       0.0, 1.0
11, &lt;H_SIZE2&gt;, 0.0, 1.0
12, &lt;H_SIZE&gt;,  0.0, 1.0
13, 0.0,       0.5, 1.0
14, 2.0,       0.5, 1.0
15, &lt;H_SIZE&gt;,  0.5, 1.0
16, 0.0,       1.0, 1.0
17, &lt;H_SIZE2&gt;, 1.0, 1.0
18, &lt;H_SIZE&gt;,  1.0, 1.0
</pre>
Define elements as "name, node1, node2, node3, node4, node5, node6, node7, node8".
Remember the positive definition of nodes 1..4 and 5..6 and that nodes 5..6 are the back-plane of 1..4.
These elements are of type "C3D8", i.e. eight-node elements in 3D, and all elements belong to the group "E_AREA".
<pre>
**CREATE ELEMENTS
*element, type=C3D8, elset=E_AREA
1, 1, 2, 5, 4, 10, 11, 14, 13
2, 2, 3, 6, 5, 11, 12, 15, 14
3, 4, 5, 8, 7, 13, 14, 17, 16
4, 5, 6, 9, 8, 14, 15, 18, 17
</pre>
Group some nodes into groups, as such node groups ease the application of boundary conditions.
Here the node groups "BOTTOM" and "TOP" are defined and the node names are specified.
<pre>
**ASSIGN (NOT CREATE, THEY EXIST ALREADY)
*nset, nset=BOTTOM
1, 2, 3, 10, 11, 12
*nset, nset=TOP
7, 8, 9, 16, 17, 18
</pre>
Define the material: first specify that all elements of group "E_AREA" (actually all elements in this simulation) are of type steel.
Then define the steel as isotropic elastic with Young's modulus and Poisson's ratio.
<pre>
**DEFINE THE MATERIAL
*solid section,material=STEEL,elset=E_AREA
*material, name=STEEL
*elastic, type=isotropic
182e3, 0.3
</pre>
Define the boundary conditions by specifying the name of the node group and then the directions in which to constrain motion.
In this example the motion of the BOTTOM nodes is constrained in the 1-direction (=x) up to the 3-direction (=z); this means also the 2-direction (=y) is constrained.
The TOP nodes are only constrained in the y-direction.
<pre>
**DEFINE THE FIXED BOUNDARY CONDITIONS
*boundary
BOTTOM, 1, 3
*boundary
TOP, 2
</pre>
Define the load step by identifying the maximum number of increments, the time step at the beginning of the simulation (first 1.0) and the duration of the deformation (1.0).
<pre>
**START LOAD STEP
*step, inc= 200
*static
1.0, 1.0
</pre>
Moving boundary conditions are similar to fixed boundary conditions.
Note that because we only want to defined the motion in the 1-direction (=x), we have to write "TOP, 1, 1, ..".
The short-hand form of this is "TOP, 1,, ..." where Abaqus assumes that only one boundary condition is prescribed.
<pre>
**DEFINE MOVING BOUNDARY CONDITIONS
*boundary
TOP,1, ,&lt;DISPL&gt;
</pre>
Request the output first as evolution of time (line graphs of x-y type).
We want to know the displacement in the x-direction (u1) and the reaction force (rf1) of the top nodes, i.e. those that are displaced by the boundary conditions.
<pre>
**DEFINE DESIRED OUTPUT
*output, history, frequency=10
** OUTPUT OF TOP NODES: DISPLACEMENT AND REACTION FORCES IN X DIRECTION
*node output, nset=TOP
u1, rf1
</pre>
Then define the distribution plot, i.e. the colorful contour plots: request all stresses (s), all strains (e), and all displacements (u).
Note that stresses and strains are defined for elements, while displacements only exist for nodes.
<pre>
**AREA OUTPUT
*output,field,freq=100
*element output,elset=E_AREA
s,e
*node output, nset=N_AREA
u
</pre>
Finally, end the load step.
Since no other load-steps follow, Abaqus knows that this is the last one.
<pre>
*end step 
</pre>
<p></p>

<h4 id="DAMASK_Abaqus_input_file_HowTo">  DAMASK Abaqus input file HowTo </h4>
Changes that have to be made to the input file in order to get DAMASK use the input file.
The above example is used for this tutorial as well.
<p></p>

The element definition.
NOTE: DAMASK needs groups of elements.
Therefore, the group definition is deleted from the element definition and a separate element group definition is given: create a group of elements that starts at the first element (1), runs until the last element (4), and takes every element in between (1).
<pre>
**CREATE ELEMENTS
*element, type=C3D8
1, 1, 2, 5, 4, 10, 11, 14, 13
2, 2, 3, 6, 5, 11, 12, 15, 14
3, 4, 5, 8, 7, 13, 14, 17, 16
4, 5, 6, 9, 8, 14, 15, 18, 17
*Elset, elset=E_AREA, generate
1, 4, 1
</pre>
<p></p>

Define the material as conventionally done in DAMASK.
Compare this to the previous example: only the elastic definition changes.
<pre>
**DEFINE THE MATERIAL
*solid section, material=STEEL, elset=E_AREA
*material, name=STEEL
*depvar
     49,
*User Material, constants=2, unsymm
1.,1.
</pre>
<p></p>

Change the load step definition.
Use the nonlinear formulation (nlgeom=YES) which causes the stiffness matrix to depend on the current configuration.
Also redefine the time steps: starting with a time step of 0.1, simulate a deformation of 1.0.
The minimum allowed time step is 0.001, while the maximum allowed time step is 1.0.
<pre>
*step, nlgeom=YES, inc= 200
*static
0.1, 1.0, 0.001, 1.0
</pre>
<p></p>

<hr /><span style="float: right;"><a class="foswikiCurrentTopicLink" href="#TableOfContents"><span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/parent_gray.png' width='16' height='16' alt='parent_gray' /></span></a></span>
<span id="StartingSimulation"></span>
<h2 id="Starting_the_simulation">  Starting the simulation </h2>
<p class='p'>Run Abaqus as usual and specify the location to the DAMASK-Abaqus UMAT:</p>

<pre>> abaqus job=Job_sx-px user=<span class='foswikiMaroonFG'><em>DAMASK</em></span>/src/DAMASK_abaqus.f interactive</pre>
<p></p>

Ensure that <span class='foswikiMaroonFG'>abaqus_v6.env</span> with the required DAMASK definitions is located in your working directory.
<p></p>

You can just start your simulations as you normally do, however, in this case the subroutine will be freshly compiled each time.
Alternatively, you can build an Abaqus library (see instructions in the <span class='foswikiMaroonFG'>abaqus_v6.env</span> file distributed with DAMASK) to avoid repeated compilations.
<p class='p'>When running a job with a pre-compiled version of DAMASK you should not specify a user subroutine file in the job definition.
If you nevertheless do so, the newly compiled executable will be used instead of the library version (helpful for debugging/testing code modifications).</p>

<hr /><span style="float: right;"><a class="foswikiCurrentTopicLink" href="#TableOfContents"><span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/parent_gray.png' width='16' height='16' alt='parent_gray' /></span></a></span>
<span id="ParallelizationAbaqus"></span>
<h2 id="Parallelization">  Parallelization </h2>
<p class='p'>Parallelization can speed up simulations significantly.
With DAMASK you can use internal parallelization, however, using Abaqus parallelization is not supported.</p>

<span id="OpenMP"></span>
<h3 id="Internally_using_OpenMP">  Internally using OpenMP </h3>
<p class='p'>DAMASK uses OpenMP for internal parallelization.
You can then set the number of threads to be used by DAMASK via the environment variable $DAMASK_NUM_THREADS.</p>

<span class='foswikiRedFG'>You need to set the variable <em>before</em> you start CAE</span> when using the CAE version or before you start your simulation when using the text editor.
<p></p>

<hr /><span style="float: right;"><a class="foswikiCurrentTopicLink" href="#TableOfContents"><span class='foswikiIcon'><img src='/pub/System/DocumentGraphics/parent_gray.png' width='16' height='16' alt='parent_gray' /></span></a></span>
<span id="MinimalExample"></span>
<h2 id="Mininmal_Example">  Mininmal Example </h2>
<p></p>
 <ul>
<li> <a href="https://damask.mpie.de/pub/Usage/Abaqus/MinimalExample.tar.xz">MinimalExample.tar.xz</a>: Minimal Example for DAMASK with Abaqus solver
</li></ul> </div>
<p class='p'></p>

</div>
<div class="patternInfo">This topic: Usage<span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span><a class="foswikiCurrentWebHomeLink" href="/bin/view/Usage/WebHome">WebHome</a><span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span>Abaqus <br />
Topic revision:  <span class='patternRevInfo'>11 Sep 2020, <a href="/bin/view/Main/PhilipEisenlohr">PhilipEisenlohr</a></span></div>
</div>
</div>
</div>
</div><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="patternWebBottomBar"><span class="foswikiRight"> <a href="http://foswiki.org/"><img src="/pub/System/ProjectLogos/foswiki-logo.svg" alt="This site is powered by Foswiki" title="This site is powered by Foswiki" width="130"/></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors. <br /> Ideas, requests, problems regarding DAMASK? <a href='mailto:damask@mpie.de?subject=DAMASK%20Feedback%20on%20Usage.Abaqus'>Send feedback</a><br />§ <a href="https://www.mpie.de/imprint" target="_blank">Imprint</a> § <a href="https://www.mpie.de/3392182/data-protection" target="_blank">Data Protection</a></div></div></div>
</div>
</div>
</div>
</div></body></html>