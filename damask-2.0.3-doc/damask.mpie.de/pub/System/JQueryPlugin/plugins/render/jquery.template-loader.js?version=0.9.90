!function(a){"use strict";var i={};a.loadTemplate=function(e,l){if(l=l||{},"string"==typeof e?l.url=e:"object"==typeof e&&(l=e),void 0===l.url)throw"ERROR: no url specified in loadTemplate";l.name=l.name||l.url||function(){var e,r=(new Date).getTime().toString(32);for(e=0;e<5;e++)r+=Math.floor(65535*Math.random()).toString(32);return"tmpl_"+r}();var r=i[l.url];return void 0===r&&(i[l.url]=r=a.Deferred(function(n){var o=a.templates[l.name];void 0===o||l.force?(a.log("loading template from ",l.url),a.ajax({url:l.url}).then(function(e,r,t){return i[l.url]=void 0,o=a.templates(l.name,e),n.resolve(o),!0},function(e,r,t){return i[l.url]=void 0,n.reject(e),!1})):n.resolve(o)}).promise()),r},a.fn.loadTemplate=function(e,t){return this.each(function(){var r=a(this);a.loadTemplate(e).done(function(e){r.html(e.render(t))})})}}(jQuery);
