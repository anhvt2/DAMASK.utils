!function(u){var t={debug:!1,render:"on",zones:"script, head"};function o(e){var o=this;o.successFunc=e.success||function(){},o.errorFunc=e.error||function(){},o.url=e.url||foswiki.getScriptUrl("rest","RenderPlugin","jsonTemplate"),delete e.success,delete e.error,delete e.url,o.opts=u.extend({},t,e)}o.prototype.log=function(){var e;console&&this.opts.debug&&((e=u.makeArray(arguments)).unshift("JST: "),console.log.apply(this,e))},o.prototype.loadTemplate=function(){var n=this;return u.ajax({url:n.url,data:n.opts,dataType:"json",success:function(e,o,t){n.processZones(e.zones),n.successFunc(e.expand,o,t)},error:function(e,o,t){n.errorFunc(e,o,t)}})},o.prototype.processZones=function(e){var c=this;u.each(e,function(n){var r=e[n],s=u("."+n).last();u.each(r,function(e){var o=r[e],t="."+n+"."+o.id.replace(/([^a-zA-Z0-9_\-])/g,"\\$1");o.id.match(/^(JQUERYPLUGIN::FOSWIKI::PREFERENCES)?$/)||0<u(t).length||(c.log("... loading ",o.id,"to zone",n),window.setTimeout(function(){s.after(o.text)}))})})},foswiki.loadTemplate=function(e){return new o(e).loadTemplate()}}(jQuery);
